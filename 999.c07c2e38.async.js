(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[999],{83893:function(oe,p,E){"use strict";E.r(p),E.d(p,{ConstructorFragment:function(){return x.Xg},ErrorFragment:function(){return x.IC},EventFragment:function(){return x.QV},Fragment:function(){return x.HY},FunctionFragment:function(){return x.YW},ParamType:function(){return x._R},FormatTypes:function(){return x.pc},AbiCoder:function(){return L.R},defaultAbiCoder:function(){return L.$},Interface:function(){return R.vU},Indexed:function(){return R.Hk},checkResultErrors:function(){return F.BR},LogDescription:function(){return R.CC},TransactionDescription:function(){return R.vk}});var x=E(11388),L=E(72734),R=E(8198),F=E(61184)},4089:function(oe,p,E){"use strict";E.r(p),E.d(p,{decode:function(){return x.J},encode:function(){return x.c}});var x=E(59567)},75931:function(oe,p,E){"use strict";E.r(p),E.d(p,{id:function(){return x.id},dnsEncode:function(){return L.Kn},namehash:function(){return L.VM},isValidName:function(){return L.r1},ensNormalize:function(){return L.w3},messagePrefix:function(){return R.B},hashMessage:function(){return R.r},_TypedDataEncoder:function(){return F.E}});var x=E(32046),L=E(78339),R=E(93684),F=E(67827)},22118:function(oe,p,E){"use strict";E.r(p),E.d(p,{randomBytes:function(){return x.O},shuffled:function(){return L.y}});var x=E(44478),L=E(52472)},52472:function(oe,p,E){"use strict";E.d(p,{y:function(){return x}});function x(L){L=L.slice();for(let R=L.length-1;R>0;R--){const F=Math.floor(Math.random()*(R+1)),ke=L[R];L[R]=L[F],L[F]=ke}return L}},91278:function(oe,p,E){"use strict";E.r(p),E.d(p,{computeHmac:function(){return x.Gy},ripemd160:function(){return x.bP},sha256:function(){return x.JQ},sha512:function(){return x.o},SupportedAlgorithm:function(){return L.p}});var x=E(23951),L=E(21261)},33777:function(oe,p,E){"use strict";E.r(p),E.d(p,{keccak256:function(){return te},pack:function(){return z},sha256:function(){return Ge}});var x=E(2593),L=E(93286),R=E(38197),F=E(23951),ke=E(44242),Ue=E(80711);const xe="solidity/5.7.0",ee=new RegExp("^bytes([0-9]+)$"),Se=new RegExp("^(u?int)([0-9]*)$"),Ee=new RegExp("^(.*)\\[([0-9]*)\\]$"),je="0000000000000000000000000000000000000000000000000000000000000000",_e=new Ue.Logger(xe);function Re(X,Y,q){switch(X){case"address":return q?(0,L.zeroPad)(Y,32):(0,L.arrayify)(Y);case"string":return(0,ke.Y0)(Y);case"bytes":return(0,L.arrayify)(Y);case"bool":return Y=Y?"0x01":"0x00",q?(0,L.zeroPad)(Y,32):(0,L.arrayify)(Y)}let B=X.match(Se);if(B){let D=parseInt(B[2]||"256");return(B[2]&&String(D)!==B[2]||D%8!=0||D===0||D>256)&&_e.throwArgumentError("invalid number type","type",X),q&&(D=256),Y=x.O$.from(Y).toTwos(D),(0,L.zeroPad)(Y,D/8)}if(B=X.match(ee),B){const D=parseInt(B[1]);return(String(D)!==B[1]||D===0||D>32)&&_e.throwArgumentError("invalid bytes type","type",X),(0,L.arrayify)(Y).byteLength!==D&&_e.throwArgumentError(`invalid value for ${X}`,"value",Y),q?(0,L.arrayify)((Y+je).substring(0,66)):Y}if(B=X.match(Ee),B&&Array.isArray(Y)){const D=B[1];parseInt(B[2]||String(Y.length))!=Y.length&&_e.throwArgumentError(`invalid array length for ${X}`,"value",Y);const re=[];return Y.forEach(function(ge){re.push(Re(D,ge,!0))}),(0,L.concat)(re)}return _e.throwArgumentError("invalid type","type",X)}function z(X,Y){X.length!=Y.length&&_e.throwArgumentError("wrong number of values; expected ${ types.length }","values",Y);const q=[];return X.forEach(function(B,D){q.push(Re(B,Y[D]))}),(0,L.hexlify)((0,L.concat)(q))}function te(X,Y){return(0,R.keccak256)(z(X,Y))}function Ge(X,Y){return(0,F.JQ)(z(X,Y))}},86237:function(oe,p,E){"use strict";E.d(p,{s:function(){return F},F:function(){return ke}});var x=E(57218),L=E(93286),R=E(44242);function F(Ue){const xe=(0,R.Y0)(Ue);if(xe.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,L.hexlify)((0,L.concat)([xe,x.R]).slice(0,32))}function ke(Ue){const xe=(0,L.arrayify)(Ue);if(xe.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(xe[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let ee=31;for(;xe[ee-1]===0;)ee--;return(0,R.ZN)(xe.slice(0,ee))}},37280:function(oe,p,E){"use strict";E.r(p),E.d(p,{UnicodeNormalizationForm:function(){return L.Uj},Utf8ErrorFuncs:function(){return L.te},Utf8ErrorReason:function(){return L.Uw},_toEscapedUtf8String:function(){return L.U$},formatBytes32String:function(){return x.s},nameprep:function(){return Y},parseBytes32String:function(){return x.F},toUtf8Bytes:function(){return L.Y0},toUtf8CodePoints:function(){return L.XL},toUtf8String:function(){return L.ZN}});var x=E(86237),L=E(44242);function R(q){if(q.length%4!=0)throw new Error("bad data");let B=[];for(let D=0;D<q.length;D+=4)B.push(parseInt(q.substring(D,D+4),16));return B}function F(q,B){B||(B=function(re){return[parseInt(re,16)]});let D=0,$={};return q.split(",").forEach(re=>{let ge=re.split(":");D+=parseInt(ge[0],16),$[D]=B(ge[1])}),$}function ke(q){let B=0;return q.split(",").map(D=>{let $=D.split("-");$.length===1?$[1]="0":$[1]===""&&($[1]="1");let re=B+parseInt($[0],16);return B=parseInt($[1],16),{l:re,h:B}})}function Ue(q,B){let D=0;for(let $=0;$<B.length;$++){let re=B[$];if(D+=re.l,q>=D&&q<=D+re.h&&(q-D)%(re.d||1)==0){if(re.e&&re.e.indexOf(q-D)!==-1)continue;return re}}return null}const xe=ke("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),ee="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(q=>parseInt(q,16)),Se=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Ee=F("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),je=F("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),_e=F("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",R),Re=ke("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function z(q){return q.reduce((B,D)=>(D.forEach($=>{B.push($)}),B),[])}function te(q){return!!Ue(q,xe)}function Ge(q){let B=Ue(q,Se);if(B)return[q+B.s];let D=Ee[q];if(D)return D;let $=je[q];if($)return[q+$[0]];let re=_e[q];return re||null}function X(q){return!!Ue(q,Re)}function Y(q){if(q.match(/^[a-z0-9-]*$/i)&&q.length<=59)return q.toLowerCase();let B=(0,L.XL)(q);B=z(B.map($=>{if(ee.indexOf($)>=0)return[];if($>=65024&&$<=65039)return[];let re=Ge($);return re||[$]})),B=(0,L.XL)((0,L.uu)(B),L.Uj.NFKC),B.forEach($=>{if(X($))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),B.forEach($=>{if(te($))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let D=(0,L.uu)(B);if(D.substring(0,1)==="-"||D.substring(2,4)==="--"||D.substring(D.length-1)==="-")throw new Error("invalid hyphen");return D}},56371:function(oe,p,E){"use strict";var x=this&&this.__createBinding||(Object.create?function(ve,de,ue,Je){Je===void 0&&(Je=ue),Object.defineProperty(ve,Je,{enumerable:!0,get:function(){return de[ue]}})}:function(ve,de,ue,Je){Je===void 0&&(Je=ue),ve[Je]=de[ue]}),L=this&&this.__setModuleDefault||(Object.create?function(ve,de){Object.defineProperty(ve,"default",{enumerable:!0,value:de})}:function(ve,de){ve.default=de}),R=this&&this.__importStar||function(ve){if(ve&&ve.__esModule)return ve;var de={};if(ve!=null)for(var ue in ve)ue!=="default"&&Object.prototype.hasOwnProperty.call(ve,ue)&&x(de,ve,ue);return L(de,ve),de};Object.defineProperty(p,"__esModule",{value:!0}),p.formatBytes32String=p.Utf8ErrorFuncs=p.toUtf8String=p.toUtf8CodePoints=p.toUtf8Bytes=p._toEscapedUtf8String=p.nameprep=p.hexDataSlice=p.hexDataLength=p.hexZeroPad=p.hexValue=p.hexStripZeros=p.hexConcat=p.isHexString=p.hexlify=p.base64=p.base58=p.TransactionDescription=p.LogDescription=p.Interface=p.SigningKey=p.HDNode=p.defaultPath=p.isBytesLike=p.isBytes=p.zeroPad=p.stripZeros=p.concat=p.arrayify=p.shallowCopy=p.resolveProperties=p.getStatic=p.defineReadOnly=p.deepCopy=p.checkProperties=p.poll=p.fetchJson=p._fetchData=p.RLP=p.Logger=p.checkResultErrors=p.FormatTypes=p.ParamType=p.FunctionFragment=p.EventFragment=p.ErrorFragment=p.ConstructorFragment=p.Fragment=p.defaultAbiCoder=p.AbiCoder=void 0,p.Indexed=p.Utf8ErrorReason=p.UnicodeNormalizationForm=p.SupportedAlgorithm=p.mnemonicToSeed=p.isValidMnemonic=p.entropyToMnemonic=p.mnemonicToEntropy=p.getAccountPath=p.verifyTypedData=p.verifyMessage=p.recoverPublicKey=p.computePublicKey=p.recoverAddress=p.computeAddress=p.getJsonWalletAddress=p.TransactionTypes=p.serializeTransaction=p.parseTransaction=p.accessListify=p.joinSignature=p.splitSignature=p.soliditySha256=p.solidityKeccak256=p.solidityPack=p.shuffled=p.randomBytes=p.sha512=p.sha256=p.ripemd160=p.keccak256=p.computeHmac=p.commify=p.parseUnits=p.formatUnits=p.parseEther=p.formatEther=p.isAddress=p.getCreate2Address=p.getContractAddress=p.getIcapAddress=p.getAddress=p._TypedDataEncoder=p.id=p.isValidName=p.namehash=p.hashMessage=p.dnsEncode=p.parseBytes32String=void 0;var F=E(83893);Object.defineProperty(p,"AbiCoder",{enumerable:!0,get:function(){return F.AbiCoder}}),Object.defineProperty(p,"checkResultErrors",{enumerable:!0,get:function(){return F.checkResultErrors}}),Object.defineProperty(p,"ConstructorFragment",{enumerable:!0,get:function(){return F.ConstructorFragment}}),Object.defineProperty(p,"defaultAbiCoder",{enumerable:!0,get:function(){return F.defaultAbiCoder}}),Object.defineProperty(p,"ErrorFragment",{enumerable:!0,get:function(){return F.ErrorFragment}}),Object.defineProperty(p,"EventFragment",{enumerable:!0,get:function(){return F.EventFragment}}),Object.defineProperty(p,"FormatTypes",{enumerable:!0,get:function(){return F.FormatTypes}}),Object.defineProperty(p,"Fragment",{enumerable:!0,get:function(){return F.Fragment}}),Object.defineProperty(p,"FunctionFragment",{enumerable:!0,get:function(){return F.FunctionFragment}}),Object.defineProperty(p,"Indexed",{enumerable:!0,get:function(){return F.Indexed}}),Object.defineProperty(p,"Interface",{enumerable:!0,get:function(){return F.Interface}}),Object.defineProperty(p,"LogDescription",{enumerable:!0,get:function(){return F.LogDescription}}),Object.defineProperty(p,"ParamType",{enumerable:!0,get:function(){return F.ParamType}}),Object.defineProperty(p,"TransactionDescription",{enumerable:!0,get:function(){return F.TransactionDescription}});var ke=E(64594);Object.defineProperty(p,"getAddress",{enumerable:!0,get:function(){return ke.getAddress}}),Object.defineProperty(p,"getCreate2Address",{enumerable:!0,get:function(){return ke.getCreate2Address}}),Object.defineProperty(p,"getContractAddress",{enumerable:!0,get:function(){return ke.getContractAddress}}),Object.defineProperty(p,"getIcapAddress",{enumerable:!0,get:function(){return ke.getIcapAddress}}),Object.defineProperty(p,"isAddress",{enumerable:!0,get:function(){return ke.isAddress}});var Ue=R(E(4089));p.base64=Ue;var xe=E(57727);Object.defineProperty(p,"base58",{enumerable:!0,get:function(){return xe.Base58}});var ee=E(93286);Object.defineProperty(p,"arrayify",{enumerable:!0,get:function(){return ee.arrayify}}),Object.defineProperty(p,"concat",{enumerable:!0,get:function(){return ee.concat}}),Object.defineProperty(p,"hexConcat",{enumerable:!0,get:function(){return ee.hexConcat}}),Object.defineProperty(p,"hexDataSlice",{enumerable:!0,get:function(){return ee.hexDataSlice}}),Object.defineProperty(p,"hexDataLength",{enumerable:!0,get:function(){return ee.hexDataLength}}),Object.defineProperty(p,"hexlify",{enumerable:!0,get:function(){return ee.hexlify}}),Object.defineProperty(p,"hexStripZeros",{enumerable:!0,get:function(){return ee.hexStripZeros}}),Object.defineProperty(p,"hexValue",{enumerable:!0,get:function(){return ee.hexValue}}),Object.defineProperty(p,"hexZeroPad",{enumerable:!0,get:function(){return ee.hexZeroPad}}),Object.defineProperty(p,"isBytes",{enumerable:!0,get:function(){return ee.isBytes}}),Object.defineProperty(p,"isBytesLike",{enumerable:!0,get:function(){return ee.isBytesLike}}),Object.defineProperty(p,"isHexString",{enumerable:!0,get:function(){return ee.isHexString}}),Object.defineProperty(p,"joinSignature",{enumerable:!0,get:function(){return ee.joinSignature}}),Object.defineProperty(p,"zeroPad",{enumerable:!0,get:function(){return ee.zeroPad}}),Object.defineProperty(p,"splitSignature",{enumerable:!0,get:function(){return ee.splitSignature}}),Object.defineProperty(p,"stripZeros",{enumerable:!0,get:function(){return ee.stripZeros}});var Se=E(75931);Object.defineProperty(p,"_TypedDataEncoder",{enumerable:!0,get:function(){return Se._TypedDataEncoder}}),Object.defineProperty(p,"dnsEncode",{enumerable:!0,get:function(){return Se.dnsEncode}}),Object.defineProperty(p,"hashMessage",{enumerable:!0,get:function(){return Se.hashMessage}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return Se.id}}),Object.defineProperty(p,"isValidName",{enumerable:!0,get:function(){return Se.isValidName}}),Object.defineProperty(p,"namehash",{enumerable:!0,get:function(){return Se.namehash}});var Ee=E(44692);Object.defineProperty(p,"defaultPath",{enumerable:!0,get:function(){return Ee.defaultPath}}),Object.defineProperty(p,"entropyToMnemonic",{enumerable:!0,get:function(){return Ee.entropyToMnemonic}}),Object.defineProperty(p,"getAccountPath",{enumerable:!0,get:function(){return Ee.getAccountPath}}),Object.defineProperty(p,"HDNode",{enumerable:!0,get:function(){return Ee.HDNode}}),Object.defineProperty(p,"isValidMnemonic",{enumerable:!0,get:function(){return Ee.isValidMnemonic}}),Object.defineProperty(p,"mnemonicToEntropy",{enumerable:!0,get:function(){return Ee.mnemonicToEntropy}}),Object.defineProperty(p,"mnemonicToSeed",{enumerable:!0,get:function(){return Ee.mnemonicToSeed}});var je=E(66883);Object.defineProperty(p,"getJsonWalletAddress",{enumerable:!0,get:function(){return je.getJsonWalletAddress}});var _e=E(38197);Object.defineProperty(p,"keccak256",{enumerable:!0,get:function(){return _e.keccak256}});var Re=E(80711);Object.defineProperty(p,"Logger",{enumerable:!0,get:function(){return Re.Logger}});var z=E(91278);Object.defineProperty(p,"computeHmac",{enumerable:!0,get:function(){return z.computeHmac}}),Object.defineProperty(p,"ripemd160",{enumerable:!0,get:function(){return z.ripemd160}}),Object.defineProperty(p,"sha256",{enumerable:!0,get:function(){return z.sha256}}),Object.defineProperty(p,"sha512",{enumerable:!0,get:function(){return z.sha512}});var te=E(33777);Object.defineProperty(p,"solidityKeccak256",{enumerable:!0,get:function(){return te.keccak256}}),Object.defineProperty(p,"solidityPack",{enumerable:!0,get:function(){return te.pack}}),Object.defineProperty(p,"soliditySha256",{enumerable:!0,get:function(){return te.sha256}});var Ge=E(22118);Object.defineProperty(p,"randomBytes",{enumerable:!0,get:function(){return Ge.randomBytes}}),Object.defineProperty(p,"shuffled",{enumerable:!0,get:function(){return Ge.shuffled}});var X=E(53587);Object.defineProperty(p,"checkProperties",{enumerable:!0,get:function(){return X.checkProperties}}),Object.defineProperty(p,"deepCopy",{enumerable:!0,get:function(){return X.deepCopy}}),Object.defineProperty(p,"defineReadOnly",{enumerable:!0,get:function(){return X.defineReadOnly}}),Object.defineProperty(p,"getStatic",{enumerable:!0,get:function(){return X.getStatic}}),Object.defineProperty(p,"resolveProperties",{enumerable:!0,get:function(){return X.resolveProperties}}),Object.defineProperty(p,"shallowCopy",{enumerable:!0,get:function(){return X.shallowCopy}});var Y=R(E(61843));p.RLP=Y;var q=E(62768);Object.defineProperty(p,"computePublicKey",{enumerable:!0,get:function(){return q.computePublicKey}}),Object.defineProperty(p,"recoverPublicKey",{enumerable:!0,get:function(){return q.recoverPublicKey}}),Object.defineProperty(p,"SigningKey",{enumerable:!0,get:function(){return q.SigningKey}});var B=E(37280);Object.defineProperty(p,"formatBytes32String",{enumerable:!0,get:function(){return B.formatBytes32String}}),Object.defineProperty(p,"nameprep",{enumerable:!0,get:function(){return B.nameprep}}),Object.defineProperty(p,"parseBytes32String",{enumerable:!0,get:function(){return B.parseBytes32String}}),Object.defineProperty(p,"_toEscapedUtf8String",{enumerable:!0,get:function(){return B._toEscapedUtf8String}}),Object.defineProperty(p,"toUtf8Bytes",{enumerable:!0,get:function(){return B.toUtf8Bytes}}),Object.defineProperty(p,"toUtf8CodePoints",{enumerable:!0,get:function(){return B.toUtf8CodePoints}}),Object.defineProperty(p,"toUtf8String",{enumerable:!0,get:function(){return B.toUtf8String}}),Object.defineProperty(p,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return B.Utf8ErrorFuncs}});var D=E(64377);Object.defineProperty(p,"accessListify",{enumerable:!0,get:function(){return D.accessListify}}),Object.defineProperty(p,"computeAddress",{enumerable:!0,get:function(){return D.computeAddress}}),Object.defineProperty(p,"parseTransaction",{enumerable:!0,get:function(){return D.parse}}),Object.defineProperty(p,"recoverAddress",{enumerable:!0,get:function(){return D.recoverAddress}}),Object.defineProperty(p,"serializeTransaction",{enumerable:!0,get:function(){return D.serialize}}),Object.defineProperty(p,"TransactionTypes",{enumerable:!0,get:function(){return D.TransactionTypes}});var $=E(77616);Object.defineProperty(p,"commify",{enumerable:!0,get:function(){return $.commify}}),Object.defineProperty(p,"formatEther",{enumerable:!0,get:function(){return $.formatEther}}),Object.defineProperty(p,"parseEther",{enumerable:!0,get:function(){return $.parseEther}}),Object.defineProperty(p,"formatUnits",{enumerable:!0,get:function(){return $.formatUnits}}),Object.defineProperty(p,"parseUnits",{enumerable:!0,get:function(){return $.parseUnits}});var re=E(64916);Object.defineProperty(p,"verifyMessage",{enumerable:!0,get:function(){return re.verifyMessage}}),Object.defineProperty(p,"verifyTypedData",{enumerable:!0,get:function(){return re.verifyTypedData}});var ge=E(58341);Object.defineProperty(p,"_fetchData",{enumerable:!0,get:function(){return ge._fetchData}}),Object.defineProperty(p,"fetchJson",{enumerable:!0,get:function(){return ge.fetchJson}}),Object.defineProperty(p,"poll",{enumerable:!0,get:function(){return ge.poll}});var N=E(91278);Object.defineProperty(p,"SupportedAlgorithm",{enumerable:!0,get:function(){return N.SupportedAlgorithm}});var xt=E(37280);Object.defineProperty(p,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return xt.UnicodeNormalizationForm}}),Object.defineProperty(p,"Utf8ErrorReason",{enumerable:!0,get:function(){return xt.Utf8ErrorReason}})},83300:function(oe,p){"use strict";var E=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof x!="undefined")return x;throw new Error("unable to locate global object")},x=E();oe.exports=p=x.fetch,x.fetch&&(p.default=x.fetch.bind(x)),p.Headers=x.Headers,p.Request=x.Request,p.Response=x.Response},39583:function(oe){"use strict";oe.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},4003:function(oe){"use strict";oe.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_feeToSetter","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token0","type":"address"},{"indexed":true,"internalType":"address","name":"token1","type":"address"},{"indexed":false,"internalType":"address","name":"pair","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"PairCreated","type":"event"},{"constant":true,"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"allPairs","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"allPairsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"}],"name":"createPair","outputs":[{"internalType":"address","name":"pair","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"feeTo","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"feeToSetter","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"getPair","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_feeTo","type":"address"}],"name":"setFeeTo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_feeToSetter","type":"address"}],"name":"setFeeToSetter","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},57755:function(oe){"use strict";oe.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint24","name":"fee","type":"uint24"},{"indexed":true,"internalType":"int24","name":"tickSpacing","type":"int24"}],"name":"FeeAmountEnabled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token0","type":"address"},{"indexed":true,"internalType":"address","name":"token1","type":"address"},{"indexed":true,"internalType":"uint24","name":"fee","type":"uint24"},{"indexed":false,"internalType":"int24","name":"tickSpacing","type":"int24"},{"indexed":false,"internalType":"address","name":"pool","type":"address"}],"name":"PoolCreated","type":"event"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"}],"name":"createPool","outputs":[{"internalType":"address","name":"pool","type":"address"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"int24","name":"tickSpacing","type":"int24"}],"name":"enableFeeAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint24","name":"","type":"uint24"}],"name":"feeAmountTickSpacing","outputs":[{"internalType":"int24","name":"","type":"int24"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint24","name":"","type":"uint24"}],"name":"getPool","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"parameters","outputs":[{"internalType":"address","name":"factory","type":"address"},{"internalType":"address","name":"token0","type":"address"},{"internalType":"address","name":"token1","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"int24","name":"tickSpacing","type":"int24"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"setOwner","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},67906:function(oe){"use strict";oe.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_feeToSetter","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token0","type":"address"},{"indexed":true,"internalType":"address","name":"token1","type":"address"},{"indexed":false,"internalType":"address","name":"pair","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"PairCreated","type":"event"},{"constant":true,"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"allPairs","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"allPairsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"}],"name":"createPair","outputs":[{"internalType":"address","name":"pair","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"feeTo","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"feeToSetter","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"getPair","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_feeTo","type":"address"}],"name":"setFeeTo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_feeToSetter","type":"address"}],"name":"setFeeToSetter","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},7466:function(oe){"use strict";oe.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_factory","type":"address"},{"internalType":"address","name":"_WETH9","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"WETH9","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"path","type":"bytes"},{"internalType":"uint256","name":"amountIn","type":"uint256"}],"name":"quoteExactInput","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint160","name":"sqrtPriceLimitX96","type":"uint160"}],"name":"quoteExactInputSingle","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"path","type":"bytes"},{"internalType":"uint256","name":"amountOut","type":"uint256"}],"name":"quoteExactOutput","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint160","name":"sqrtPriceLimitX96","type":"uint160"}],"name":"quoteExactOutputSingle","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int256","name":"amount0Delta","type":"int256"},{"internalType":"int256","name":"amount1Delta","type":"int256"},{"internalType":"bytes","name":"path","type":"bytes"}],"name":"uniswapV3SwapCallback","outputs":[],"stateMutability":"view","type":"function"}]')},24630:function(oe){"use strict";oe.exports=JSON.parse('[{"inputs":[],"name":"WETH","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint256","name":"amountADesired","type":"uint256"},{"internalType":"uint256","name":"amountBDesired","type":"uint256"},{"internalType":"uint256","name":"amountAMin","type":"uint256"},{"internalType":"uint256","name":"amountBMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"addLiquidity","outputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"amountB","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amountTokenDesired","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"addLiquidityETH","outputs":[{"internalType":"uint256","name":"amountToken","type":"uint256"},{"internalType":"uint256","name":"amountETH","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"reserveIn","type":"uint256"},{"internalType":"uint256","name":"reserveOut","type":"uint256"}],"name":"getAmountIn","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"reserveIn","type":"uint256"},{"internalType":"uint256","name":"reserveOut","type":"uint256"}],"name":"getAmountOut","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"getAmountsIn","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"getAmountsOut","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"reserveA","type":"uint256"},{"internalType":"uint256","name":"reserveB","type":"uint256"}],"name":"quote","outputs":[{"internalType":"uint256","name":"amountB","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountAMin","type":"uint256"},{"internalType":"uint256","name":"amountBMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"removeLiquidity","outputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"amountB","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"removeLiquidityETH","outputs":[{"internalType":"uint256","name":"amountToken","type":"uint256"},{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"removeLiquidityETHSupportingFeeOnTransferTokens","outputs":[{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bool","name":"approveMax","type":"bool"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"removeLiquidityETHWithPermit","outputs":[{"internalType":"uint256","name":"amountToken","type":"uint256"},{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bool","name":"approveMax","type":"bool"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"removeLiquidityETHWithPermitSupportingFeeOnTransferTokens","outputs":[{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountAMin","type":"uint256"},{"internalType":"uint256","name":"amountBMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bool","name":"approveMax","type":"bool"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"removeLiquidityWithPermit","outputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"amountB","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapETHForExactTokens","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactETHForTokens","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactETHForTokensSupportingFeeOnTransferTokens","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForETH","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForETHSupportingFeeOnTransferTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForTokens","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForTokensSupportingFeeOnTransferTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMax","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapTokensForExactETH","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMax","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapTokensForExactTokens","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"}]')},52866:function(oe){"use strict";oe.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_factory","type":"address"},{"internalType":"address","name":"_WETH9","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"WETH9","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"bytes","name":"path","type":"bytes"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMinimum","type":"uint256"}],"internalType":"struct ISwapRouter.ExactInputParams","name":"params","type":"tuple"}],"name":"exactInput","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMinimum","type":"uint256"},{"internalType":"uint160","name":"sqrtPriceLimitX96","type":"uint160"}],"internalType":"struct ISwapRouter.ExactInputSingleParams","name":"params","type":"tuple"}],"name":"exactInputSingle","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"internalType":"bytes","name":"path","type":"bytes"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMaximum","type":"uint256"}],"internalType":"struct ISwapRouter.ExactOutputParams","name":"params","type":"tuple"}],"name":"exactOutput","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMaximum","type":"uint256"},{"internalType":"uint160","name":"sqrtPriceLimitX96","type":"uint160"}],"internalType":"struct ISwapRouter.ExactOutputSingleParams","name":"params","type":"tuple"}],"name":"exactOutputSingle","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes[]","name":"data","type":"bytes[]"}],"name":"multicall","outputs":[{"internalType":"bytes[]","name":"results","type":"bytes[]"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"refundETH","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitAllowed","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitAllowedIfNecessary","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitIfNecessary","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"sweepToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"feeBips","type":"uint256"},{"internalType":"address","name":"feeRecipient","type":"address"}],"name":"sweepTokenWithFee","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"int256","name":"amount0Delta","type":"int256"},{"internalType":"int256","name":"amount1Delta","type":"int256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"uniswapV3SwapCallback","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"unwrapWETH9","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"feeBips","type":"uint256"},{"internalType":"address","name":"feeRecipient","type":"address"}],"name":"unwrapWETH9WithFee","outputs":[],"stateMutability":"payable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},53999:function(oe,p,E){"use strict";E.d(p,{a_:function(){return F},hB:function(){return X},BB:function(){return pi},JL:function(){return xn},Ke:function(){return N}});var x;(function(n){n[n.noRoutesFound=1]="noRoutesFound",n[n.canNotFindChainId=2]="canNotFindChainId",n[n.tokenChainIdContractDoesNotExist=3]="tokenChainIdContractDoesNotExist",n[n.tradePathIsNotSupported=4]="tradePathIsNotSupported",n[n.generateApproveMaxAllowanceDataNotAllowed=5]="generateApproveMaxAllowanceDataNotAllowed",n[n.fromTokenContractAddressRequired=6]="fromTokenContractAddressRequired",n[n.fromTokenContractAddressNotValid=7]="fromTokenContractAddressNotValid",n[n.toTokenContractAddressRequired=8]="toTokenContractAddressRequired",n[n.toTokenContractAddressNotValid=9]="toTokenContractAddressNotValid",n[n.ethereumAddressRequired=10]="ethereumAddressRequired",n[n.ethereumAddressNotValid=11]="ethereumAddressNotValid",n[n.invalidPairContext=12]="invalidPairContext",n[n.invalidFromOrToContractToken=13]="invalidFromOrToContractToken",n[n.uniswapVersionNotSupported=14]="uniswapVersionNotSupported",n[n.uniswapVersionsMustNotBeAnEmptyArray=15]="uniswapVersionsMustNotBeAnEmptyArray",n[n.canNotFindProviderUrl=16]="canNotFindProviderUrl",n[n.wrongEthersProviderContext=17]="wrongEthersProviderContext",n[n.chainIdNotSupported=18]="chainIdNotSupported",n[n.chainIdCanNotBeFound=19]="chainIdCanNotBeFound",n[n.uniswapVersionsUnsupported=20]="uniswapVersionsUnsupported"})(x||(x={}));var L=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),R=function(n){L(t,n);function t(e,i){var o=n.call(this,e)||this;return o.name="UniswapError",o.message=e,o.code=i,o}return t}(Error),F;(function(n){n[n.MAINNET=1]="MAINNET",n[n.ROPSTEN=3]="ROPSTEN",n[n.RINKEBY=4]="RINKEBY",n[n.G\u00D6RLI=5]="G\xD6RLI",n[n.KOVAN=42]="KOVAN"})(F||(F={}));var ke=new Map([[F.MAINNET,"mainnet"],[F.ROPSTEN,"ropsten"],[F.RINKEBY,"rinkeby"],[F.G\u00D6RLI,"g\xF6rli"],[F.KOVAN,"kovan"]]),Ue=function(){function n(){}return n.MAINNET=function(){return{chainId:F.MAINNET,contractAddress:"0xc00e94Cb662C3520282E6f5717214004A7f26888",decimals:18,symbol:"COMP",name:"Compound"}},n.token=function(t){switch(t){case F.MAINNET:return this.MAINNET();default:throw new R(t+" is not allowed",x.tokenChainIdContractDoesNotExist)}},n}(),xe=function(){function n(){}return n.MAINNET=function(){return{chainId:F.MAINNET,contractAddress:"0x6B175474E89094C44Da98b954EedeAC495271d0F",decimals:18,symbol:"DAI",name:"Dai Stablecoin"}},n.token=function(t){switch(t){case F.MAINNET:return this.MAINNET();default:throw new R(t+" is not allowed",x.tokenChainIdContractDoesNotExist)}},n}();function ee(n){return JSON.parse(JSON.stringify(n))}var Se=function(){return Se=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Se.apply(this,arguments)},Ee="_ETH",je="ETH",_e="Ethers",Re=function(n){return""+n+Ee},z=function(n){return n.replace(Ee,"").replace(Ee.toLowerCase(),"")},te=function(n){return n.includes(Ee)},Ge=function(n,t){var e=ee(n);return e.contractAddress="NO_CONTRACT_ADDRESS",t?(e.symbol=t.symbol,e.name=t.name):(e.symbol=je,e.name=_e),e},X=function(){function n(){}return n.MAINNET=function(){return{chainId:F.MAINNET,contractAddress:Re("0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"),decimals:18,symbol:je,name:_e}},n.ROPSTEN=function(){return{chainId:F.ROPSTEN,contractAddress:Re("0xc778417E063141139Fce010982780140Aa0cD5Ab"),decimals:18,symbol:je,name:_e}},n.RINKEBY=function(){return{chainId:F.RINKEBY,contractAddress:Re("0xc778417E063141139Fce010982780140Aa0cD5Ab"),decimals:18,symbol:je,name:_e}},n.GORLI=function(){return{chainId:F.G\u00D6RLI,contractAddress:Re("0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6"),decimals:18,symbol:je,name:_e}},n.KOVAN=function(){return{chainId:F.KOVAN,contractAddress:Re("0xd0A1E359811322d97991E03f863a0C30C2cF029C"),decimals:18,symbol:je,name:_e}},n.info=function(t,e){if(e===void 0&&(e=void 0),e)return Se(Se({},e),{contractAddress:Re(e.contractAddress)});switch(t){case F.MAINNET:return this.MAINNET();case F.ROPSTEN:return this.ROPSTEN();case F.RINKEBY:return this.RINKEBY();case F.G\u00D6RLI:return this.GORLI();case F.KOVAN:return this.KOVAN();default:throw new R(t+" is not allowed",x.tokenChainIdContractDoesNotExist)}},n}(),Y=function(){function n(){}return n.MAINNET=function(){return{chainId:F.MAINNET,contractAddress:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",decimals:6,symbol:"USDC",name:"USD Coin"}},n.token=function(t){switch(t){case F.MAINNET:return this.MAINNET();default:throw new R(t+" is not allowed",x.tokenChainIdContractDoesNotExist)}},n}(),q=function(){function n(){}return n.MAINNET=function(){return{chainId:F.MAINNET,contractAddress:"0xdAC17F958D2ee523a2206206994597C13D831ec7",decimals:6,symbol:"USDT",name:"Tether USD"}},n.token=function(t){switch(t){case F.MAINNET:return this.MAINNET();default:throw new R(t+" is not allowed",x.tokenChainIdContractDoesNotExist)}},n}(),B="WETH",D="Wrapped Ether",$=function(){function n(){}return n.MAINNET=function(){return{chainId:F.MAINNET,contractAddress:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",decimals:18,symbol:B,name:D}},n.ROPSTEN=function(){return{chainId:F.ROPSTEN,contractAddress:"0xc778417E063141139Fce010982780140Aa0cD5Ab",decimals:18,symbol:B,name:D}},n.RINKEBY=function(){return{chainId:F.RINKEBY,contractAddress:"0xc778417E063141139Fce010982780140Aa0cD5Ab",decimals:18,symbol:B,name:D}},n.GORLI=function(){return{chainId:F.G\u00D6RLI,contractAddress:"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",decimals:18,symbol:B,name:D}},n.KOVAN=function(){return{chainId:F.KOVAN,contractAddress:"0xd0A1E359811322d97991E03f863a0C30C2cF029C",decimals:18,symbol:B,name:D}},n.token=function(t){switch(t){case F.MAINNET:return this.MAINNET();case F.ROPSTEN:return this.ROPSTEN();case F.RINKEBY:return this.RINKEBY();case F.G\u00D6RLI:return this.GORLI();case F.KOVAN:return this.KOVAN();default:throw new R(t+" is not allowed",x.tokenChainIdContractDoesNotExist)}},n}(),re=E(64594);function ge(n,t){t===void 0&&(t=!1);var e=re.getAddress(z(n));return!t||!te(n)?e:Re(e)}var N;(function(n){n.v2="v2",n.v3="v3"})(N||(N={}));var xt=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,ve=Math.ceil,de=Math.floor,ue="[BigNumber Error] ",Je=ue+"Number primitive has more than 15 significant digits: ",Qe=1e14,G=14,Zt=9007199254740991,en=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],tt=1e7,Te=1e9;function An(n){var t,e,i,o=P.prototype={constructor:P,toString:null,valueOf:null},r=new P(1),s=20,u=4,l=-7,a=21,c=-1e7,v=1e7,O=!1,A=1,S=0,I={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},U="0123456789abcdefghijklmnopqrstuvwxyz",j=!0;function P(f,d){var h,T,m,g,_,y,b,k,w=this;if(!(w instanceof P))return new P(f,d);if(d==null){if(f&&f._isBigNumber===!0){w.s=f.s,!f.c||f.e>v?w.c=w.e=null:f.e<c?w.c=[w.e=0]:(w.e=f.e,w.c=f.c.slice());return}if((y=typeof f=="number")&&f*0==0){if(w.s=1/f<0?(f=-f,-1):1,f===~~f){for(g=0,_=f;_>=10;_/=10,g++);g>v?w.c=w.e=null:(w.e=g,w.c=[f]);return}k=String(f)}else{if(!xt.test(k=String(f)))return i(w,k,y);w.s=k.charCodeAt(0)==45?(k=k.slice(1),-1):1}(g=k.indexOf("."))>-1&&(k=k.replace(".","")),(_=k.search(/e/i))>0?(g<0&&(g=_),g+=+k.slice(_+1),k=k.substring(0,_)):g<0&&(g=k.length)}else{if(fe(d,2,U.length,"Base"),d==10&&j)return w=new P(f),we(w,s+w.e+1,u);if(k=String(f),y=typeof f=="number"){if(f*0!=0)return i(w,k,y,d);if(w.s=1/f<0?(k=k.slice(1),-1):1,P.DEBUG&&k.replace(/^0\.0*|\./,"").length>15)throw Error(Je+f)}else w.s=k.charCodeAt(0)===45?(k=k.slice(1),-1):1;for(h=U.slice(0,d),g=_=0,b=k.length;_<b;_++)if(h.indexOf(T=k.charAt(_))<0){if(T=="."){if(_>g){g=b;continue}}else if(!m&&(k==k.toUpperCase()&&(k=k.toLowerCase())||k==k.toLowerCase()&&(k=k.toUpperCase()))){m=!0,_=-1,g=0;continue}return i(w,String(f),y,d)}y=!1,k=e(k,d,10,w.s),(g=k.indexOf("."))>-1?k=k.replace(".",""):g=k.length}for(_=0;k.charCodeAt(_)===48;_++);for(b=k.length;k.charCodeAt(--b)===48;);if(k=k.slice(_,++b)){if(b-=_,y&&P.DEBUG&&b>15&&(f>Zt||f!==de(f)))throw Error(Je+w.s*f);if((g=g-_-1)>v)w.c=w.e=null;else if(g<c)w.c=[w.e=0];else{if(w.e=g,w.c=[],_=(g+1)%G,g<0&&(_+=G),_<b){for(_&&w.c.push(+k.slice(0,_)),b-=G;_<b;)w.c.push(+k.slice(_,_+=G));_=G-(k=k.slice(_)).length}else _-=b;for(;_--;k+="0");w.c.push(+k)}}else w.c=[w.e=0]}P.clone=An,P.ROUND_UP=0,P.ROUND_DOWN=1,P.ROUND_CEIL=2,P.ROUND_FLOOR=3,P.ROUND_HALF_UP=4,P.ROUND_HALF_DOWN=5,P.ROUND_HALF_EVEN=6,P.ROUND_HALF_CEIL=7,P.ROUND_HALF_FLOOR=8,P.EUCLID=9,P.config=P.set=function(f){var d,h;if(f!=null)if(typeof f=="object"){if(f.hasOwnProperty(d="DECIMAL_PLACES")&&(h=f[d],fe(h,0,Te,d),s=h),f.hasOwnProperty(d="ROUNDING_MODE")&&(h=f[d],fe(h,0,8,d),u=h),f.hasOwnProperty(d="EXPONENTIAL_AT")&&(h=f[d],h&&h.pop?(fe(h[0],-Te,0,d),fe(h[1],0,Te,d),l=h[0],a=h[1]):(fe(h,-Te,Te,d),l=-(a=h<0?-h:h))),f.hasOwnProperty(d="RANGE"))if(h=f[d],h&&h.pop)fe(h[0],-Te,-1,d),fe(h[1],1,Te,d),c=h[0],v=h[1];else if(fe(h,-Te,Te,d),h)c=-(v=h<0?-h:h);else throw Error(ue+d+" cannot be zero: "+h);if(f.hasOwnProperty(d="CRYPTO"))if(h=f[d],h===!!h)if(h)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))O=h;else throw O=!h,Error(ue+"crypto unavailable");else O=h;else throw Error(ue+d+" not true or false: "+h);if(f.hasOwnProperty(d="MODULO_MODE")&&(h=f[d],fe(h,0,9,d),A=h),f.hasOwnProperty(d="POW_PRECISION")&&(h=f[d],fe(h,0,Te,d),S=h),f.hasOwnProperty(d="FORMAT"))if(h=f[d],typeof h=="object")I=h;else throw Error(ue+d+" not an object: "+h);if(f.hasOwnProperty(d="ALPHABET"))if(h=f[d],typeof h=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(h))j=h.slice(0,10)=="0123456789",U=h;else throw Error(ue+d+" invalid: "+h)}else throw Error(ue+"Object expected: "+f);return{DECIMAL_PLACES:s,ROUNDING_MODE:u,EXPONENTIAL_AT:[l,a],RANGE:[c,v],CRYPTO:O,MODULO_MODE:A,POW_PRECISION:S,FORMAT:I,ALPHABET:U}},P.isBigNumber=function(f){if(!f||f._isBigNumber!==!0)return!1;if(!P.DEBUG)return!0;var d,h,T=f.c,m=f.e,g=f.s;e:if({}.toString.call(T)=="[object Array]"){if((g===1||g===-1)&&m>=-Te&&m<=Te&&m===de(m)){if(T[0]===0){if(m===0&&T.length===1)return!0;break e}if(d=(m+1)%G,d<1&&(d+=G),String(T[0]).length==d){for(d=0;d<T.length;d++)if(h=T[d],h<0||h>=Qe||h!==de(h))break e;if(h!==0)return!0}}}else if(T===null&&m===null&&(g===null||g===1||g===-1))return!0;throw Error(ue+"Invalid BigNumber: "+f)},P.maximum=P.max=function(){return ce(arguments,o.lt)},P.minimum=P.min=function(){return ce(arguments,o.gt)},P.random=function(){var f=9007199254740992,d=Math.random()*f&2097151?function(){return de(Math.random()*f)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(h){var T,m,g,_,y,b=0,k=[],w=new P(r);if(h==null?h=s:fe(h,0,Te),_=ve(h/G),O)if(crypto.getRandomValues){for(T=crypto.getRandomValues(new Uint32Array(_*=2));b<_;)y=T[b]*131072+(T[b+1]>>>11),y>=9e15?(m=crypto.getRandomValues(new Uint32Array(2)),T[b]=m[0],T[b+1]=m[1]):(k.push(y%1e14),b+=2);b=_/2}else if(crypto.randomBytes){for(T=crypto.randomBytes(_*=7);b<_;)y=(T[b]&31)*281474976710656+T[b+1]*1099511627776+T[b+2]*4294967296+T[b+3]*16777216+(T[b+4]<<16)+(T[b+5]<<8)+T[b+6],y>=9e15?crypto.randomBytes(7).copy(T,b):(k.push(y%1e14),b+=7);b=_/7}else throw O=!1,Error(ue+"crypto unavailable");if(!O)for(;b<_;)y=d(),y<9e15&&(k[b++]=y%1e14);for(_=k[--b],h%=G,_&&h&&(y=en[G-h],k[b]=de(_/y)*y);k[b]===0;k.pop(),b--);if(b<0)k=[g=0];else{for(g=-1;k[0]===0;k.splice(0,1),g-=G);for(b=1,y=k[0];y>=10;y/=10,b++);b<G&&(g-=G-b)}return w.e=g,w.c=k,w}}(),P.sum=function(){for(var f=1,d=arguments,h=new P(d[0]);f<d.length;)h=h.plus(d[f++]);return h},e=function(){var f="0123456789";function d(h,T,m,g){for(var _,y=[0],b,k=0,w=h.length;k<w;){for(b=y.length;b--;y[b]*=T);for(y[0]+=g.indexOf(h.charAt(k++)),_=0;_<y.length;_++)y[_]>m-1&&(y[_+1]==null&&(y[_+1]=0),y[_+1]+=y[_]/m|0,y[_]%=m)}return y.reverse()}return function(h,T,m,g,_){var y,b,k,w,C,V,H,ne,ye=h.indexOf("."),be=s,Z=u;for(ye>=0&&(w=S,S=0,h=h.replace(".",""),ne=new P(T),V=ne.pow(h.length-ye),S=w,ne.c=d(Xe(He(V.c),V.e,"0"),10,m,f),ne.e=ne.c.length),H=d(h,T,m,_?(y=U,f):(y=f,U)),k=w=H.length;H[--w]==0;H.pop());if(!H[0])return y.charAt(0);if(ye<0?--k:(V.c=H,V.e=k,V.s=g,V=t(V,ne,be,Z,m),H=V.c,C=V.r,k=V.e),b=k+be+1,ye=H[b],w=m/2,C=C||b<0||H[b+1]!=null,C=Z<4?(ye!=null||C)&&(Z==0||Z==(V.s<0?3:2)):ye>w||ye==w&&(Z==4||C||Z==6&&H[b-1]&1||Z==(V.s<0?8:7)),b<1||!H[0])h=C?Xe(y.charAt(1),-be,y.charAt(0)):y.charAt(0);else{if(H.length=b,C)for(--m;++H[--b]>m;)H[b]=0,b||(++k,H=[1].concat(H));for(w=H.length;!H[--w];);for(ye=0,h="";ye<=w;h+=y.charAt(H[ye++]));h=Xe(h,k,y.charAt(0))}return h}}(),t=function(){function f(T,m,g){var _,y,b,k,w=0,C=T.length,V=m%tt,H=m/tt|0;for(T=T.slice();C--;)b=T[C]%tt,k=T[C]/tt|0,_=H*b+k*V,y=V*b+_%tt*tt+w,w=(y/g|0)+(_/tt|0)+H*k,T[C]=y%g;return w&&(T=[w].concat(T)),T}function d(T,m,g,_){var y,b;if(g!=_)b=g>_?1:-1;else for(y=b=0;y<g;y++)if(T[y]!=m[y]){b=T[y]>m[y]?1:-1;break}return b}function h(T,m,g,_){for(var y=0;g--;)T[g]-=y,y=T[g]<m[g]?1:0,T[g]=y*_+T[g]-m[g];for(;!T[0]&&T.length>1;T.splice(0,1));}return function(T,m,g,_,y){var b,k,w,C,V,H,ne,ye,be,Z,ie,Oe,Xt,_n,Pn,ze,Ot,qe=T.s==m.s?1:-1,Ie=T.c,me=m.c;if(!Ie||!Ie[0]||!me||!me[0])return new P(!T.s||!m.s||(Ie?me&&Ie[0]==me[0]:!me)?NaN:Ie&&Ie[0]==0||!me?qe*0:qe/0);for(ye=new P(qe),be=ye.c=[],k=T.e-m.e,qe=g+k+1,y||(y=Qe,k=Le(T.e/G)-Le(m.e/G),qe=qe/G|0),w=0;me[w]==(Ie[w]||0);w++);if(me[w]>(Ie[w]||0)&&k--,qe<0)be.push(1),C=!0;else{for(_n=Ie.length,ze=me.length,w=0,qe+=2,V=de(y/(me[0]+1)),V>1&&(me=f(me,V,y),Ie=f(Ie,V,y),ze=me.length,_n=Ie.length),Xt=ze,Z=Ie.slice(0,ze),ie=Z.length;ie<ze;Z[ie++]=0);Ot=me.slice(),Ot=[0].concat(Ot),Pn=me[0],me[1]>=y/2&&Pn++;do{if(V=0,b=d(me,Z,ze,ie),b<0){if(Oe=Z[0],ze!=ie&&(Oe=Oe*y+(Z[1]||0)),V=de(Oe/Pn),V>1)for(V>=y&&(V=y-1),H=f(me,V,y),ne=H.length,ie=Z.length;d(H,Z,ne,ie)==1;)V--,h(H,ze<ne?Ot:me,ne,y),ne=H.length,b=1;else V==0&&(b=V=1),H=me.slice(),ne=H.length;if(ne<ie&&(H=[0].concat(H)),h(Z,H,ie,y),ie=Z.length,b==-1)for(;d(me,Z,ze,ie)<1;)V++,h(Z,ze<ie?Ot:me,ie,y),ie=Z.length}else b===0&&(V++,Z=[0]);be[w++]=V,Z[0]?Z[ie++]=Ie[Xt]||0:(Z=[Ie[Xt]],ie=1)}while((Xt++<_n||Z[0]!=null)&&qe--);C=Z[0]!=null,be[0]||be.splice(0,1)}if(y==Qe){for(w=1,qe=be[0];qe>=10;qe/=10,w++);we(ye,g+(ye.e=w+k*G-1)+1,_,C)}else ye.e=k,ye.r=+C;return ye}}();function se(f,d,h,T){var m,g,_,y,b;if(h==null?h=u:fe(h,0,8),!f.c)return f.toString();if(m=f.c[0],_=f.e,d==null)b=He(f.c),b=T==1||T==2&&(_<=l||_>=a)?Nt(b,_):Xe(b,_,"0");else if(f=we(new P(f),d,h),g=f.e,b=He(f.c),y=b.length,T==1||T==2&&(d<=g||g<=l)){for(;y<d;b+="0",y++);b=Nt(b,g)}else if(d-=_,b=Xe(b,g,"0"),g+1>y){if(--d>0)for(b+=".";d--;b+="0");}else if(d+=g-y,d>0)for(g+1==y&&(b+=".");d--;b+="0");return f.s<0&&m?"-"+b:b}function ce(f,d){for(var h,T=1,m=new P(f[0]);T<f.length;T++)if(h=new P(f[T]),h.s)d.call(m,h)&&(m=h);else{m=h;break}return m}function le(f,d,h){for(var T=1,m=d.length;!d[--m];d.pop());for(m=d[0];m>=10;m/=10,T++);return(h=T+h*G-1)>v?f.c=f.e=null:h<c?f.c=[f.e=0]:(f.e=h,f.c=d),f}i=function(){var f=/^(-?)0([xbo])(?=\w[\w.]*$)/i,d=/^([^.]+)\.$/,h=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,m=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(g,_,y,b){var k,w=y?_:_.replace(m,"");if(T.test(w))g.s=isNaN(w)?null:w<0?-1:1;else{if(!y&&(w=w.replace(f,function(C,V,H){return k=(H=H.toLowerCase())=="x"?16:H=="b"?2:8,!b||b==k?V:C}),b&&(k=b,w=w.replace(d,"$1").replace(h,"0.$1")),_!=w))return new P(w,k);if(P.DEBUG)throw Error(ue+"Not a"+(b?" base "+b:"")+" number: "+_);g.s=null}g.c=g.e=null}}();function we(f,d,h,T){var m,g,_,y,b,k,w,C=f.c,V=en;if(C){e:{for(m=1,y=C[0];y>=10;y/=10,m++);if(g=d-m,g<0)g+=G,_=d,b=C[k=0],w=b/V[m-_-1]%10|0;else if(k=ve((g+1)/G),k>=C.length)if(T){for(;C.length<=k;C.push(0));b=w=0,m=1,g%=G,_=g-G+1}else break e;else{for(b=y=C[k],m=1;y>=10;y/=10,m++);g%=G,_=g-G+m,w=_<0?0:b/V[m-_-1]%10|0}if(T=T||d<0||C[k+1]!=null||(_<0?b:b%V[m-_-1]),T=h<4?(w||T)&&(h==0||h==(f.s<0?3:2)):w>5||w==5&&(h==4||T||h==6&&(g>0?_>0?b/V[m-_]:0:C[k-1])%10&1||h==(f.s<0?8:7)),d<1||!C[0])return C.length=0,T?(d-=f.e+1,C[0]=V[(G-d%G)%G],f.e=-d||0):C[0]=f.e=0,f;if(g==0?(C.length=k,y=1,k--):(C.length=k+1,y=V[G-g],C[k]=_>0?de(b/V[m-_]%V[_])*y:0),T)for(;;)if(k==0){for(g=1,_=C[0];_>=10;_/=10,g++);for(_=C[0]+=y,y=1;_>=10;_/=10,y++);g!=y&&(f.e++,C[0]==Qe&&(C[0]=1));break}else{if(C[k]+=y,C[k]!=Qe)break;C[k--]=0,y=1}for(g=C.length;C[--g]===0;C.pop());}f.e>v?f.c=f.e=null:f.e<c&&(f.c=[f.e=0])}return f}function Ae(f){var d,h=f.e;return h===null?f.toString():(d=He(f.c),d=h<=l||h>=a?Nt(d,h):Xe(d,h,"0"),f.s<0?"-"+d:d)}return o.absoluteValue=o.abs=function(){var f=new P(this);return f.s<0&&(f.s=1),f},o.comparedTo=function(f,d){return pt(this,new P(f,d))},o.decimalPlaces=o.dp=function(f,d){var h,T,m,g=this;if(f!=null)return fe(f,0,Te),d==null?d=u:fe(d,0,8),we(new P(g),f+g.e+1,d);if(!(h=g.c))return null;if(T=((m=h.length-1)-Le(this.e/G))*G,m=h[m])for(;m%10==0;m/=10,T--);return T<0&&(T=0),T},o.dividedBy=o.div=function(f,d){return t(this,new P(f,d),s,u)},o.dividedToIntegerBy=o.idiv=function(f,d){return t(this,new P(f,d),0,1)},o.exponentiatedBy=o.pow=function(f,d){var h,T,m,g,_,y,b,k,w,C=this;if(f=new P(f),f.c&&!f.isInteger())throw Error(ue+"Exponent not an integer: "+Ae(f));if(d!=null&&(d=new P(d)),y=f.e>14,!C.c||!C.c[0]||C.c[0]==1&&!C.e&&C.c.length==1||!f.c||!f.c[0])return w=new P(Math.pow(+Ae(C),y?f.s*(2-St(f)):+Ae(f))),d?w.mod(d):w;if(b=f.s<0,d){if(d.c?!d.c[0]:!d.s)return new P(NaN);T=!b&&C.isInteger()&&d.isInteger(),T&&(C=C.mod(d))}else{if(f.e>9&&(C.e>0||C.e<-1||(C.e==0?C.c[0]>1||y&&C.c[1]>=24e7:C.c[0]<8e13||y&&C.c[0]<=9999975e7)))return g=(C.s<0&&St(f),-0),C.e>-1&&(g=1/g),new P(b?1/g:g);S&&(g=ve(S/G+2))}for(y?(h=new P(.5),b&&(f.s=1),k=St(f)):(m=Math.abs(+Ae(f)),k=m%2),w=new P(r);;){if(k){if(w=w.times(C),!w.c)break;g?w.c.length>g&&(w.c.length=g):T&&(w=w.mod(d))}if(m){if(m=de(m/2),m===0)break;k=m%2}else if(f=f.times(h),we(f,f.e+1,1),f.e>14)k=St(f);else{if(m=+Ae(f),m===0)break;k=m%2}C=C.times(C),g?C.c&&C.c.length>g&&(C.c.length=g):T&&(C=C.mod(d))}return T?w:(b&&(w=r.div(w)),d?w.mod(d):g?we(w,S,u,_):w)},o.integerValue=function(f){var d=new P(this);return f==null?f=u:fe(f,0,8),we(d,d.e+1,f)},o.isEqualTo=o.eq=function(f,d){return pt(this,new P(f,d))===0},o.isFinite=function(){return!!this.c},o.isGreaterThan=o.gt=function(f,d){return pt(this,new P(f,d))>0},o.isGreaterThanOrEqualTo=o.gte=function(f,d){return(d=pt(this,new P(f,d)))===1||d===0},o.isInteger=function(){return!!this.c&&Le(this.e/G)>this.c.length-2},o.isLessThan=o.lt=function(f,d){return pt(this,new P(f,d))<0},o.isLessThanOrEqualTo=o.lte=function(f,d){return(d=pt(this,new P(f,d)))===-1||d===0},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&this.c[0]==0},o.minus=function(f,d){var h,T,m,g,_=this,y=_.s;if(f=new P(f,d),d=f.s,!y||!d)return new P(NaN);if(y!=d)return f.s=-d,_.plus(f);var b=_.e/G,k=f.e/G,w=_.c,C=f.c;if(!b||!k){if(!w||!C)return w?(f.s=-d,f):new P(C?_:NaN);if(!w[0]||!C[0])return C[0]?(f.s=-d,f):new P(w[0]?_:(u==3,-0))}if(b=Le(b),k=Le(k),w=w.slice(),y=b-k){for((g=y<0)?(y=-y,m=w):(k=b,m=C),m.reverse(),d=y;d--;m.push(0));m.reverse()}else for(T=(g=(y=w.length)<(d=C.length))?y:d,y=d=0;d<T;d++)if(w[d]!=C[d]){g=w[d]<C[d];break}if(g&&(m=w,w=C,C=m,f.s=-f.s),d=(T=C.length)-(h=w.length),d>0)for(;d--;w[h++]=0);for(d=Qe-1;T>y;){if(w[--T]<C[T]){for(h=T;h&&!w[--h];w[h]=d);--w[h],w[T]+=Qe}w[T]-=C[T]}for(;w[0]==0;w.splice(0,1),--k);return w[0]?le(f,w,k):(f.s=u==3?-1:1,f.c=[f.e=0],f)},o.modulo=o.mod=function(f,d){var h,T,m=this;return f=new P(f,d),!m.c||!f.s||f.c&&!f.c[0]?new P(NaN):!f.c||m.c&&!m.c[0]?new P(m):(A==9?(T=f.s,f.s=1,h=t(m,f,0,3),f.s=T,h.s*=T):h=t(m,f,0,A),f=m.minus(h.times(f)),!f.c[0]&&A==1&&(f.s=m.s),f)},o.multipliedBy=o.times=function(f,d){var h,T,m,g,_,y,b,k,w,C,V,H,ne,ye,be,Z=this,ie=Z.c,Oe=(f=new P(f,d)).c;if(!ie||!Oe||!ie[0]||!Oe[0])return!Z.s||!f.s||ie&&!ie[0]&&!Oe||Oe&&!Oe[0]&&!ie?f.c=f.e=f.s=null:(f.s*=Z.s,!ie||!Oe?f.c=f.e=null:(f.c=[0],f.e=0)),f;for(T=Le(Z.e/G)+Le(f.e/G),f.s*=Z.s,b=ie.length,C=Oe.length,b<C&&(ne=ie,ie=Oe,Oe=ne,m=b,b=C,C=m),m=b+C,ne=[];m--;ne.push(0));for(ye=Qe,be=tt,m=C;--m>=0;){for(h=0,V=Oe[m]%be,H=Oe[m]/be|0,_=b,g=m+_;g>m;)k=ie[--_]%be,w=ie[_]/be|0,y=H*k+w*V,k=V*k+y%be*be+ne[g]+h,h=(k/ye|0)+(y/be|0)+H*w,ne[g--]=k%ye;ne[g]=h}return h?++T:ne.splice(0,1),le(f,ne,T)},o.negated=function(){var f=new P(this);return f.s=-f.s||null,f},o.plus=function(f,d){var h,T=this,m=T.s;if(f=new P(f,d),d=f.s,!m||!d)return new P(NaN);if(m!=d)return f.s=-d,T.minus(f);var g=T.e/G,_=f.e/G,y=T.c,b=f.c;if(!g||!_){if(!y||!b)return new P(m/0);if(!y[0]||!b[0])return b[0]?f:new P(y[0]?T:m*0)}if(g=Le(g),_=Le(_),y=y.slice(),m=g-_){for(m>0?(_=g,h=b):(m=-m,h=y),h.reverse();m--;h.push(0));h.reverse()}for(m=y.length,d=b.length,m-d<0&&(h=b,b=y,y=h,d=m),m=0;d;)m=(y[--d]=y[d]+b[d]+m)/Qe|0,y[d]=Qe===y[d]?0:y[d]%Qe;return m&&(y=[m].concat(y),++_),le(f,y,_)},o.precision=o.sd=function(f,d){var h,T,m,g=this;if(f!=null&&f!==!!f)return fe(f,1,Te),d==null?d=u:fe(d,0,8),we(new P(g),f,d);if(!(h=g.c))return null;if(m=h.length-1,T=m*G+1,m=h[m]){for(;m%10==0;m/=10,T--);for(m=h[0];m>=10;m/=10,T++);}return f&&g.e+1>T&&(T=g.e+1),T},o.shiftedBy=function(f){return fe(f,-Zt,Zt),this.times("1e"+f)},o.squareRoot=o.sqrt=function(){var f,d,h,T,m,g=this,_=g.c,y=g.s,b=g.e,k=s+4,w=new P("0.5");if(y!==1||!_||!_[0])return new P(!y||y<0&&(!_||_[0])?NaN:_?g:1/0);if(y=Math.sqrt(+Ae(g)),y==0||y==1/0?(d=He(_),(d.length+b)%2==0&&(d+="0"),y=Math.sqrt(+d),b=Le((b+1)/2)-(b<0||b%2),y==1/0?d="5e"+b:(d=y.toExponential(),d=d.slice(0,d.indexOf("e")+1)+b),h=new P(d)):h=new P(y+""),h.c[0]){for(b=h.e,y=b+k,y<3&&(y=0);;)if(m=h,h=w.times(m.plus(t(g,m,k,1))),He(m.c).slice(0,y)===(d=He(h.c)).slice(0,y))if(h.e<b&&--y,d=d.slice(y-3,y+1),d=="9999"||!T&&d=="4999"){if(!T&&(we(m,m.e+s+2,0),m.times(m).eq(g))){h=m;break}k+=4,y+=4,T=1}else{(!+d||!+d.slice(1)&&d.charAt(0)=="5")&&(we(h,h.e+s+2,1),f=!h.times(h).eq(g));break}}return we(h,h.e+s+1,u,f)},o.toExponential=function(f,d){return f!=null&&(fe(f,0,Te),f++),se(this,f,d,1)},o.toFixed=function(f,d){return f!=null&&(fe(f,0,Te),f=f+this.e+1),se(this,f,d)},o.toFormat=function(f,d,h){var T,m=this;if(h==null)f!=null&&d&&typeof d=="object"?(h=d,d=null):f&&typeof f=="object"?(h=f,f=d=null):h=I;else if(typeof h!="object")throw Error(ue+"Argument not an object: "+h);if(T=m.toFixed(f,d),m.c){var g,_=T.split("."),y=+h.groupSize,b=+h.secondaryGroupSize,k=h.groupSeparator||"",w=_[0],C=_[1],V=m.s<0,H=V?w.slice(1):w,ne=H.length;if(b&&(g=y,y=b,b=g,ne-=g),y>0&&ne>0){for(g=ne%y||y,w=H.substr(0,g);g<ne;g+=y)w+=k+H.substr(g,y);b>0&&(w+=k+H.slice(g)),V&&(w="-"+w)}T=C?w+(h.decimalSeparator||"")+((b=+h.fractionGroupSize)?C.replace(new RegExp("\\d{"+b+"}\\B","g"),"$&"+(h.fractionGroupSeparator||"")):C):w}return(h.prefix||"")+T+(h.suffix||"")},o.toFraction=function(f){var d,h,T,m,g,_,y,b,k,w,C,V,H=this,ne=H.c;if(f!=null&&(y=new P(f),!y.isInteger()&&(y.c||y.s!==1)||y.lt(r)))throw Error(ue+"Argument "+(y.isInteger()?"out of range: ":"not an integer: ")+Ae(y));if(!ne)return new P(H);for(d=new P(r),k=h=new P(r),T=b=new P(r),V=He(ne),g=d.e=V.length-H.e-1,d.c[0]=en[(_=g%G)<0?G+_:_],f=!f||y.comparedTo(d)>0?g>0?d:k:y,_=v,v=1/0,y=new P(V),b.c[0]=0;w=t(y,d,0,1),m=h.plus(w.times(T)),m.comparedTo(f)!=1;)h=T,T=m,k=b.plus(w.times(m=k)),b=m,d=y.minus(w.times(m=d)),y=m;return m=t(f.minus(h),T,0,1),b=b.plus(m.times(k)),h=h.plus(m.times(T)),b.s=k.s=H.s,g=g*2,C=t(k,T,g,u).minus(H).abs().comparedTo(t(b,h,g,u).minus(H).abs())<1?[k,T]:[b,h],v=_,C},o.toNumber=function(){return+Ae(this)},o.toPrecision=function(f,d){return f!=null&&fe(f,1,Te),se(this,f,d,2)},o.toString=function(f){var d,h=this,T=h.s,m=h.e;return m===null?T?(d="Infinity",T<0&&(d="-"+d)):d="NaN":(f==null?d=m<=l||m>=a?Nt(He(h.c),m):Xe(He(h.c),m,"0"):f===10&&j?(h=we(new P(h),s+m+1,u),d=Xe(He(h.c),h.e,"0")):(fe(f,2,U.length,"Base"),d=e(Xe(He(h.c),m,"0"),10,f,T,!0)),T<0&&h.c[0]&&(d="-"+d)),d},o.valueOf=o.toJSON=function(){return Ae(this)},o._isBigNumber=!0,o[Symbol.toStringTag]="BigNumber",o[Symbol.for("nodejs.util.inspect.custom")]=o.valueOf,n!=null&&P.set(n),P}function Le(n){var t=n|0;return n>0||n===t?t:t-1}function He(n){for(var t,e,i=1,o=n.length,r=n[0]+"";i<o;){for(t=n[i++]+"",e=G-t.length;e--;t="0"+t);r+=t}for(o=r.length;r.charCodeAt(--o)===48;);return r.slice(0,o+1||1)}function pt(n,t){var e,i,o=n.c,r=t.c,s=n.s,u=t.s,l=n.e,a=t.e;if(!s||!u)return null;if(e=o&&!o[0],i=r&&!r[0],e||i)return e?i?0:-u:s;if(s!=u)return s;if(e=s<0,i=l==a,!o||!r)return i?0:!o^e?1:-1;if(!i)return l>a^e?1:-1;for(u=(l=o.length)<(a=r.length)?l:a,s=0;s<u;s++)if(o[s]!=r[s])return o[s]>r[s]^e?1:-1;return l==a?0:l>a^e?1:-1}function fe(n,t,e,i){if(n<t||n>e||n!==de(n))throw Error(ue+(i||"Argument")+(typeof n=="number"?n<t||n>e?" out of range: ":" not an integer: ":" not a primitive number: ")+String(n))}function St(n){var t=n.c.length-1;return Le(n.e/G)==t&&n.c[t]%2!=0}function Nt(n,t){return(n.length>1?n.charAt(0)+"."+n.slice(1):n)+(t<0?"e":"e+")+t}function Xe(n,t,e){var i,o;if(t<0){for(o=e+".";++t;o+=e);n=o+n}else if(i=n.length,++t>i){for(o=e,t-=i;--t;o+=e);n+=o}else t<i&&(n=n.slice(0,t)+"."+n.slice(t));return n}var or=An(),M=or,tn=E(96519),J=E(53587),Q=E(80711),Ve=E(34216),ht=E(82169),ar=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})};const gt=new Q.Logger(Ve.i);class En extends ht.r{detectNetwork(){const t=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return ar(this,void 0,void 0,function*(){let e=this.network;return e==null&&(e=yield t.detectNetwork.call(this),e||gt.throwError("no network detected",Q.Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&((0,J.defineReadOnly)(this,"_network",e),this.emit("network",e,null))),e})}}class nt extends En{constructor(t,e){gt.checkAbstract(new.target,nt),t=(0,J.getStatic)(new.target,"getNetwork")(t),e=(0,J.getStatic)(new.target,"getApiKey")(e);const i=(0,J.getStatic)(new.target,"getUrl")(t,e);super(i,t);typeof e=="string"?(0,J.defineReadOnly)(this,"apiKey",e):e!=null&&Object.keys(e).forEach(o=>{(0,J.defineReadOnly)(this,o,e[o])})}_startPending(){gt.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(t){return gt.throwError("API provider does not support signing",Q.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(t){return t}static getUrl(t,e){return gt.throwError("not implemented; sub-classes must override getUrl",Q.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}var Ne=E(2593);let Tt=null;try{if(Tt=WebSocket,Tt==null)throw new Error("inject please")}catch(n){const t=new Q.Logger(Ve.i);Tt=function(){t.throwError("WebSockets not supported in this environment",Q.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var nn=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})};const It=new Q.Logger(Ve.i);let sr=1;class rn extends ht.r{constructor(t,e){e==="any"&&It.throwError("WebSocketProvider does not support 'any' network yet",Q.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof t=="string"?super(t,e):super("_websocket",e),this._pollingInterval=-1,this._wsReady=!1,typeof t=="string"?(0,J.defineReadOnly)(this,"_websocket",new Tt(this.connection.url)):(0,J.defineReadOnly)(this,"_websocket",t),(0,J.defineReadOnly)(this,"_requests",{}),(0,J.defineReadOnly)(this,"_subs",{}),(0,J.defineReadOnly)(this,"_subIds",{}),(0,J.defineReadOnly)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(o=>{this.websocket.send(this._requests[o].payload)})},this.websocket.onmessage=o=>{const r=o.data,s=JSON.parse(r);if(s.id!=null){const u=String(s.id),l=this._requests[u];if(delete this._requests[u],s.result!==void 0)l.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(l.payload),response:s.result,provider:this});else{let a=null;s.error?(a=new Error(s.error.message||"unknown error"),(0,J.defineReadOnly)(a,"code",s.error.code||null),(0,J.defineReadOnly)(a,"response",r)):a=new Error("unknown error"),l.callback(a,void 0),this.emit("debug",{action:"response",error:a,request:JSON.parse(l.payload),provider:this})}}else if(s.method==="eth_subscription"){const u=this._subs[s.params.subscription];u&&u.processFunc(s.params.result)}else console.warn("this should not happen")};const i=setInterval(()=>{this.emit("poll")},1e3);i.unref&&i.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(t){It.throwError("cannot reset events block on WebSocketProvider",Q.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(t){It.throwError("cannot set polling interval on WebSocketProvider",Q.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return nn(this,void 0,void 0,function*(){return null})}set polling(t){!t||It.throwError("cannot set polling on WebSocketProvider",Q.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(t,e){const i=sr++;return new Promise((o,r)=>{function s(l,a){return l?r(l):o(a)}const u=JSON.stringify({method:t,params:e,id:i,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(u),provider:this}),this._requests[String(i)]={callback:s,payload:u},this._wsReady&&this.websocket.send(u)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(t,e,i){return nn(this,void 0,void 0,function*(){let o=this._subIds[t];o==null&&(o=Promise.all(e).then(s=>this.send("eth_subscribe",s)),this._subIds[t]=o);const r=yield o;this._subs[r]={tag:t,processFunc:i}})}_startEvent(t){switch(t.type){case"block":this._subscribe("block",["newHeads"],e=>{const i=Ne.O$.from(e.number).toNumber();this._emitted.block=i,this.emit("block",i)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],e=>{this.emit("pending",e)});break;case"filter":this._subscribe(t.tag,["logs",this._getFilter(t.filter)],e=>{e.removed==null&&(e.removed=!1),this.emit(t.filter,this.formatter.filterLog(e))});break;case"tx":{const e=i=>{const o=i.hash;this.getTransactionReceipt(o).then(r=>{!r||this.emit(o,r)})};e(t),this._subscribe("tx",["newHeads"],i=>{this._events.filter(o=>o.type==="tx").forEach(e)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",t);break}}_stopEvent(t){let e=t.tag;if(t.type==="tx"){if(this._events.filter(o=>o.type==="tx").length)return;e="tx"}else if(this.listenerCount(t.event))return;const i=this._subIds[e];!i||(delete this._subIds[e],i.then(o=>{!this._subs[o]||(delete this._subs[o],this.send("eth_unsubscribe",[o]))}))}destroy(){return nn(this,void 0,void 0,function*(){this.websocket.readyState===Tt.CONNECTING&&(yield new Promise(t=>{this.websocket.onopen=function(){t(!0)},this.websocket.onerror=function(){t(!1)}})),this.websocket.close(1e3)})}}var yt=E(30032);const Rt=new Q.Logger(Ve.i),wt="84842078b09946638c03157f83405213";class ur extends rn{constructor(t,e){const i=new on(t,e),o=i.connection;o.password&&Rt.throwError("INFURA WebSocket project secrets unsupported",Q.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const r=o.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(r,t);(0,J.defineReadOnly)(this,"apiKey",i.projectId),(0,J.defineReadOnly)(this,"projectId",i.projectId),(0,J.defineReadOnly)(this,"projectSecret",i.projectSecret)}isCommunityResource(){return this.projectId===wt}}class on extends nt{static getWebSocketProvider(t,e){return new ur(t,e)}static getApiKey(t){const e={apiKey:wt,projectId:wt,projectSecret:null};return t==null||(typeof t=="string"?e.projectId=t:t.projectSecret!=null?(Rt.assertArgument(typeof t.projectId=="string","projectSecret requires a projectId","projectId",t.projectId),Rt.assertArgument(typeof t.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),e.projectId=t.projectId,e.projectSecret=t.projectSecret):t.projectId&&(e.projectId=t.projectId),e.apiKey=e.projectId),e}static getUrl(t,e){let i=null;switch(t?t.name:"unknown"){case"homestead":i="mainnet.infura.io";break;case"goerli":i="goerli.infura.io";break;case"sepolia":i="sepolia.infura.io";break;case"matic":i="polygon-mainnet.infura.io";break;case"maticmum":i="polygon-mumbai.infura.io";break;case"optimism":i="optimism-mainnet.infura.io";break;case"optimism-goerli":i="optimism-goerli.infura.io";break;case"arbitrum":i="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":i="arbitrum-goerli.infura.io";break;default:Rt.throwError("unsupported network",Q.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:t})}const o={allowGzip:!0,url:"https://"+i+"/v3/"+e.projectId,throttleCallback:(r,s)=>(e.projectId===wt&&(0,yt.vh)(),Promise.resolve(!0))};return e.projectSecret!=null&&(o.user="",o.password=e.projectSecret),o}isCommunityResource(){return this.projectId===wt}}const Cn=new Q.Logger(Ve.i);let cr=1;function Fn(n,t){const e="Web3LegacyFetcher";return function(i,o){const r={method:i,params:o,id:cr++,jsonrpc:"2.0"};return new Promise((s,u)=>{this.emit("debug",{action:"request",fetcher:e,request:(0,J.deepCopy)(r),provider:this}),t(r,(l,a)=>{if(l)return this.emit("debug",{action:"response",fetcher:e,error:l,request:r,provider:this}),u(l);if(this.emit("debug",{action:"response",fetcher:e,request:r,response:a,provider:this}),a.error){const c=new Error(a.error.message);return c.code=a.error.code,c.data=a.error.data,u(c)}s(a.result)})})}}function lr(n){return function(t,e){e==null&&(e=[]);const i={method:t,params:e};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,J.deepCopy)(i),provider:this}),n.request(i).then(o=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:o,provider:this}),o})}}class On extends ht.r{constructor(t,e){t==null&&Cn.throwArgumentError("missing provider","provider",t);let i=null,o=null,r=null;typeof t=="function"?(i="unknown:",o=t):(i=t.host||t.path||"",!i&&t.isMetaMask&&(i="metamask"),r=t,t.request?(i===""&&(i="eip-1193:"),o=lr(t)):t.sendAsync?o=Fn(t,t.sendAsync.bind(t)):t.send?o=Fn(t,t.send.bind(t)):Cn.throwArgumentError("unsupported provider","provider",t),i||(i="unknown:")),super(i,e),(0,J.defineReadOnly)(this,"jsonRpcFetchFunc",o),(0,J.defineReadOnly)(this,"provider",r)}send(t,e){return this.jsonRpcFetchFunc(t,e)}}var fr=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},dr=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Ke=function(){function n(t){this._providerContext=t;var e=this._providerContext.chainId;if(e){var i=this.getChainName(e),o=this._providerContext.providerUrl;o?this._ethersProvider=new En(o,{name:i,chainId:e}):this._ethersProvider=new on(e,this._getApiKey)}else{var r=this._providerContext.ethereumProvider;if(!r)throw new R("Wrong ethers provider context",x.wrongEthersProviderContext);r._isProvider?this._ethersProvider=r:this._ethersProvider=new On(r)}}return n.prototype.getChainName=function(t){if(this._providerContext.customNetwork)return this._providerContext.customNetwork.nameNetwork;var e=ke.get(t);if(!e)throw new R("Can not find chain name for "+t+". This lib only supports mainnet(1), ropsten(4), kovan(42), rinkeby(4) and g\xF6rli(5)",x.canNotFindChainId);return e},n.prototype.getContract=function(t,e){var i=new tn.CH(e,t,this._ethersProvider);return i},n.prototype.network=function(){if(this._ethersProvider.network)return this._ethersProvider.network;if(this._ethersProvider.provider){var t=this._ethersProvider.provider.chainId;if(t){var e=new M(t).toNumber(),i=ke.get(e);if(i)return{chainId:e,name:i}}}throw new R("chainId can not be found on the provider",x.chainIdCanNotBeFound)},Object.defineProperty(n.prototype,"provider",{get:function(){return this._ethersProvider},enumerable:!1,configurable:!0}),n.prototype.balanceOf=function(t){return fr(this,void 0,void 0,function(){return dr(this,function(e){switch(e.label){case 0:return[4,this._ethersProvider.getBalance(t)];case 1:return[2,e.sent().toHexString()]}})})},n.prototype.getProviderUrl=function(){var t=this._providerContext.ethereumProvider;if(!t){var e=this._providerContext.providerUrl;if(e)return e;var i=this._providerContext.chainId;switch(i){case F.MAINNET:return"https://mainnet.infura.io/v3/"+this._getApiKey;case F.ROPSTEN:return"https://ropsten.infura.io/v3/"+this._getApiKey;case F.RINKEBY:return"https://rinkeby.infura.io/v3/"+this._getApiKey;case F.G\u00D6RLI:return"https://goerli.infura.io/v3/"+this._getApiKey;case F.KOVAN:return"https://kovan.infura.io/v3/"+this._getApiKey;default:return}}},Object.defineProperty(n.prototype,"_getApiKey",{get:function(){return"9aa3d95b3bc440fa88ea12eaa4456161"},enumerable:!1,configurable:!0}),n}(),K;(function(n){n.input="input",n.output="output"})(K||(K={}));var xn=function(){function n(t){if(this.uniswapVersions=[N.v2,N.v3],this.gasSettings=void 0,this.cloneUniswapContractDetails=void 0,this.customNetwork=void 0,this.slippage=(t==null?void 0:t.slippage)||.005,this.deadlineMinutes=(t==null?void 0:t.deadlineMinutes)||20,this.disableMultihops=(t==null?void 0:t.disableMultihops)||!1,this.gasSettings=t==null?void 0:t.gasSettings,this.cloneUniswapContractDetails=t==null?void 0:t.cloneUniswapContractDetails,this.customNetwork=t==null?void 0:t.customNetwork,Array.isArray(t==null?void 0:t.uniswapVersions)&&(t==null?void 0:t.uniswapVersions.length)===0)throw new R("`uniswapVersions` must not be an empty array",x.uniswapVersionsMustNotBeAnEmptyArray);if(t&&Array.isArray(t.uniswapVersions)&&t.uniswapVersions.length>0){if(t.uniswapVersions.find(function(e){return e!==N.v2&&e!==N.v3}))throw new R("`uniswapVersions` only accepts v2 or v3",x.uniswapVersionsUnsupported);this.uniswapVersions=t==null?void 0:t.uniswapVersions}}return n}(),pr=E(83300),hr=E.n(pr),yr=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},mr=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},vr=function(){function n(){this._fiatPriceCache=void 0,this._cacheMilliseconds=9e4}return n.prototype.getCoinGeckoFiatPrices=function(t){return yr(this,void 0,void 0,function(){var e,i,o,r,s,u,l,a,c,v,O;return mr(this,function(A){switch(A.label){case 0:if(t=t.map(function(S){return z(S)}),this._fiatPriceCache&&(e=Date.now(),ee(this._fiatPriceCache.timestamp)>e-this._cacheMilliseconds))return[2,this._fiatPriceCache.cachedResponse];A.label=1;case 1:return A.trys.push([1,4,,5]),i={},[4,hr()("https://api.coingecko.com/api/v3/simple/token_price/ethereum?contract_addresses="+t.join()+"&vs_currencies=usd")];case 2:return[4,A.sent().json()];case 3:for(o=A.sent(),r=0,s=Object.entries(o);r<s.length;r++)for(u=s[r],l=u[0],a=u[1],c=0;c<t.length;c++)v=ge(l),i[v]=Number(a.usd);return this._fiatPriceCache={cachedResponse:i,timestamp:Date.now()},[2,i];case 4:return O=A.sent(),this._fiatPriceCache?[2,this._fiatPriceCache.cachedResponse]:[2,{}];case 5:return[2]}})})},n}();function an(n){return re.isAddress(z(n))}var kt=function(){function n(){}return n.erc20Abi=E(39583),n}(),br=function(){function n(){}return n.MAINNET=function(){return{chainId:F.MAINNET,contractAddress:"0x431ad2ff6a9C365805eBaD47Ee021148d6f7DBe0",decimals:18,symbol:"DF",name:"dForce token"}},n}(),gr=function(){function n(){}return n.MAINNET=function(){return{chainId:F.MAINNET,contractAddress:"0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2",decimals:18,symbol:"MAI",name:"MAI token"}},n}(),Tr=[br.MAINNET(),gr.MAINNET()],sn=function(n){return Tr.find(function(t){return t.contractAddress.toLowerCase()===n.toLowerCase()})},wr=E(79861);const Sn=new Q.Logger(Ve.i),Bt="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class kr extends rn{constructor(t,e){const i=new Nn(t,e),o=i.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(o,i.network);(0,J.defineReadOnly)(this,"apiKey",i.apiKey)}isCommunityResource(){return this.apiKey===Bt}}class Nn extends nt{static getWebSocketProvider(t,e){return new kr(t,e)}static getApiKey(t){return t==null?Bt:(t&&typeof t!="string"&&Sn.throwArgumentError("invalid apiKey","apiKey",t),t)}static getUrl(t,e){let i=null;switch(t.name){case"homestead":i="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":i="eth-goerli.g.alchemy.com/v2/";break;case"matic":i="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":i="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":i="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":i="arb-goerli.g.alchemy.com/v2/";break;case"optimism":i="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":i="opt-goerli.g.alchemy.com/v2/";break;default:Sn.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+i+e,throttleCallback:(o,r)=>(e===Bt&&(0,yt.vh)(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===Bt}}const _r=new Q.Logger(Ve.i),Mt="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function Pr(n){switch(n){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return _r.throwArgumentError("unsupported network","name",n)}class Ar extends nt{isCommunityResource(){return this.apiKey===Mt}static getApiKey(t){return t==null?Mt:t}static getUrl(t,e){e==null&&(e=Mt);const i={allowGzip:!0,url:"https://"+Pr(t.name)+e,throttleCallback:(o,r)=>(e.apiKey===Mt&&(0,yt.vh)(),Promise.resolve(!0))};return e.projectSecret!=null&&(i.user="",i.password=e.projectSecret),i}}var Er=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})};const In=new Q.Logger(Ve.i);class Cr extends nt{static getApiKey(t){return t!=null&&In.throwArgumentError("apiKey not supported for cloudflare","apiKey",t),null}static getUrl(t,e){let i=null;switch(t.name){case"homestead":i="https://cloudflare-eth.com/";break;default:In.throwArgumentError("unsupported network","network",arguments[0])}return i}perform(t,e){const i=Object.create(null,{perform:{get:()=>super.perform}});return Er(this,void 0,void 0,function*(){return t==="getBlockNumber"?(yield i.perform.call(this,"getBlock",{blockTag:"latest"})).number:i.perform.call(this,t,e)})}}var Ye=E(93286),Fr=E(64377),Rn=E(58341),Bn=E(75361),Dt=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})};const rt=new Q.Logger(Ve.i);function Mn(n){const t={};for(let e in n){if(n[e]==null)continue;let i=n[e];e==="type"&&i===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[e]?i=(0,Ye.hexValue)((0,Ye.hexlify)(i)):e==="accessList"?i="["+(0,Fr.accessListify)(i).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]":i=(0,Ye.hexlify)(i),t[e]=i)}return t}function Or(n){if(n.status==0&&(n.message==="No records found"||n.message==="No transactions found"))return n.result;if(n.status!=1||typeof n.message!="string"||!n.message.match(/^OK/)){const t=new Error("invalid response");throw t.result=JSON.stringify(n),(n.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return n.result}function Dn(n){if(n&&n.status==0&&n.message=="NOTOK"&&(n.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(n),t.throttleRetry=!0,t}if(n.jsonrpc!="2.0"){const t=new Error("invalid response");throw t.result=JSON.stringify(n),t}if(n.error){const t=new Error(n.error.message||"unknown error");throw n.error.code&&(t.code=n.error.code),n.error.data&&(t.data=n.error.data),t}return n.result}function Un(n){if(n==="pending")throw new Error("pending not supported");return n==="latest"?n:parseInt(n.substring(2),16)}function un(n,t,e){if(n==="call"&&t.code===Q.Logger.errors.SERVER_ERROR){const o=t.error;if(o&&(o.message.match(/reverted/i)||o.message.match(/VM execution error/i))){let r=o.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),(0,Ye.isHexString)(r))return r;rt.throwError("missing revert data in call exception",Q.Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let i=t.message;throw t.code===Q.Logger.errors.SERVER_ERROR&&(t.error&&typeof t.error.message=="string"?i=t.error.message:typeof t.body=="string"?i=t.body:typeof t.responseText=="string"&&(i=t.responseText)),i=(i||"").toLowerCase(),i.match(/insufficient funds/)&&rt.throwError("insufficient funds for intrinsic transaction cost",Q.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:n,transaction:e}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&rt.throwError("nonce has already been used",Q.Logger.errors.NONCE_EXPIRED,{error:t,method:n,transaction:e}),i.match(/another transaction with same nonce/)&&rt.throwError("replacement fee too low",Q.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:n,transaction:e}),i.match(/execution failed due to an exception|execution reverted/)&&rt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Q.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:n,transaction:e}),t}class xr extends Bn.Zk{constructor(t,e){super(t);(0,J.defineReadOnly)(this,"baseUrl",this.getBaseUrl()),(0,J.defineReadOnly)(this,"apiKey",e||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}return rt.throwArgumentError("unsupported network","network",this.network.name)}getUrl(t,e){const i=Object.keys(e).reduce((r,s)=>{const u=e[s];return u!=null&&(r+=`&${s}=${u}`),r},""),o=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${t}${i}${o}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(t,e){return e.module=t,e.apikey=this.apiKey,e}fetch(t,e,i){return Dt(this,void 0,void 0,function*(){const o=i?this.getPostUrl():this.getUrl(t,e),r=i?this.getPostData(t,e):null,s=t==="proxy"?Dn:Or;this.emit("debug",{action:"request",request:o,provider:this});const u={url:o,throttleSlotInterval:1e3,throttleCallback:(c,v)=>(this.isCommunityResource()&&(0,yt.vh)(),Promise.resolve(!0))};let l=null;r&&(u.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},l=Object.keys(r).map(c=>`${c}=${r[c]}`).join("&"));const a=yield(0,Rn.fetchJson)(u,l,s||Dn);return this.emit("debug",{action:"response",request:o,response:(0,J.deepCopy)(a),provider:this}),a})}detectNetwork(){return Dt(this,void 0,void 0,function*(){return this.network})}perform(t,e){const i=Object.create(null,{perform:{get:()=>super.perform}});return Dt(this,void 0,void 0,function*(){switch(t){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(o=>un("sendTransaction",o,e.signedTransaction));case"getBlock":if(e.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.transactionHash});case"call":{if(e.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const o=Mn(e.transaction);o.module="proxy",o.action="eth_call";try{return yield this.fetch("proxy",o,!0)}catch(r){return un("call",r,e.transaction)}}case"estimateGas":{const o=Mn(e.transaction);o.module="proxy",o.action="eth_estimateGas";try{return yield this.fetch("proxy",o,!0)}catch(r){return un("estimateGas",r,e.transaction)}}case"getLogs":{const o={action:"getLogs"};if(e.filter.fromBlock&&(o.fromBlock=Un(e.filter.fromBlock)),e.filter.toBlock&&(o.toBlock=Un(e.filter.toBlock)),e.filter.address&&(o.address=e.filter.address),e.filter.topics&&e.filter.topics.length>0&&(e.filter.topics.length>1&&rt.throwError("unsupported topic count",Q.Logger.errors.UNSUPPORTED_OPERATION,{topics:e.filter.topics}),e.filter.topics.length===1)){const u=e.filter.topics[0];(typeof u!="string"||u.length!==66)&&rt.throwError("unsupported topic format",Q.Logger.errors.UNSUPPORTED_OPERATION,{topic0:u}),o.topic0=u}const r=yield this.fetch("logs",o);let s={};for(let u=0;u<r.length;u++){const l=r[u];if(l.blockHash==null){if(s[l.blockNumber]==null){const a=yield this.getBlock(l.blockNumber);a&&(s[l.blockNumber]=a.hash)}l.blockHash=s[l.blockNumber]}}return r}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd);default:break}return i.perform.call(this,t,e)})}getHistory(t,e,i){return Dt(this,void 0,void 0,function*(){const o={action:"txlist",address:yield this.resolveName(t),startblock:e==null?0:e,endblock:i==null?99999999:i,sort:"asc"};return(yield this.fetch("account",o)).map(s=>{["contractAddress","to"].forEach(function(l){s[l]==""&&delete s[l]}),s.creates==null&&s.contractAddress!=null&&(s.creates=s.contractAddress);const u=this.formatter.transactionResponse(s);return s.timeStamp&&(u.timestamp=parseInt(s.timeStamp)),u})})}isCommunityResource(){return this.apiKey==null}}var Sr=E(72487),Nr=E(52472),Ut=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})};const st=new Q.Logger(Ve.i);function jt(){return new Date().getTime()}function jn(n){let t=null;for(let e=0;e<n.length;e++){const i=n[e];if(i==null)return null;t?t.name===i.name&&t.chainId===i.chainId&&(t.ensAddress===i.ensAddress||t.ensAddress==null&&i.ensAddress==null)||st.throwArgumentError("provider mismatch","networks",n):t=i}return t}function Vn(n,t){n=n.slice().sort();const e=Math.floor(n.length/2);if(n.length%2)return n[e];const i=n[e-1],o=n[e];return t!=null&&Math.abs(i-o)>t?null:(i+o)/2}function mt(n){if(n===null)return"null";if(typeof n=="number"||typeof n=="boolean")return JSON.stringify(n);if(typeof n=="string")return n;if(Ne.O$.isBigNumber(n))return n.toString();if(Array.isArray(n))return JSON.stringify(n.map(t=>mt(t)));if(typeof n=="object"){const t=Object.keys(n);return t.sort(),"{"+t.map(e=>{let i=n[e];return typeof i=="function"?i="[function]":i=mt(i),JSON.stringify(e)+":"+i}).join(",")+"}"}throw new Error("unknown value type: "+typeof n)}let Ir=1;function Ln(n){let t=null,e=null,i=new Promise(s=>{t=function(){e&&(clearTimeout(e),e=null),s()},e=setTimeout(t,n)});const o=s=>(i=i.then(s),i);function r(){return i}return{cancel:t,getPromise:r,wait:o}}const Rr=[Q.Logger.errors.CALL_EXCEPTION,Q.Logger.errors.INSUFFICIENT_FUNDS,Q.Logger.errors.NONCE_EXPIRED,Q.Logger.errors.REPLACEMENT_UNDERPRICED,Q.Logger.errors.UNPREDICTABLE_GAS_LIMIT],Br=["address","args","errorArgs","errorSignature","method","transaction"];function Vt(n,t){const e={weight:n.weight};return Object.defineProperty(e,"provider",{get:()=>n.provider}),n.start&&(e.start=n.start),t&&(e.duration=t-n.start),n.done&&(n.error?e.error=n.error:e.result=n.result||null),e}function Mr(n,t){return function(e){const i={};e.forEach(r=>{const s=n(r.result);i[s]||(i[s]={count:0,result:r.result}),i[s].count++});const o=Object.keys(i);for(let r=0;r<o.length;r++){const s=i[o[r]];if(s.count>=t)return s.result}}}function Dr(n,t,e){let i=mt;switch(t){case"getBlockNumber":return function(o){const r=o.map(u=>u.result);let s=Vn(o.map(u=>u.result),2);if(s!=null)return s=Math.ceil(s),r.indexOf(s+1)>=0&&s++,s>=n._highestBlockNumber&&(n._highestBlockNumber=s),n._highestBlockNumber};case"getGasPrice":return function(o){const r=o.map(s=>s.result);return r.sort(),r[Math.floor(r.length/2)]};case"getEtherPrice":return function(o){return Vn(o.map(r=>r.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":i=function(o){return o==null?null:(o=(0,J.shallowCopy)(o),o.confirmations=-1,mt(o))};break;case"getBlock":e.includeTransactions?i=function(o){return o==null?null:(o=(0,J.shallowCopy)(o),o.transactions=o.transactions.map(r=>(r=(0,J.shallowCopy)(r),r.confirmations=-1,r)),mt(o))}:i=function(o){return o==null?null:mt(o)};break;default:throw new Error("unknown method: "+t)}return Mr(i,n.quorum)}function _t(n,t){return Ut(this,void 0,void 0,function*(){const e=n.provider;return e.blockNumber!=null&&e.blockNumber>=t||t===-1?e:(0,Rn.poll)(()=>new Promise((i,o)=>{setTimeout(function(){return e.blockNumber>=t?i(e):n.cancelled?i(null):i(void 0)},0)}),{oncePoll:e})})}function Ur(n,t,e,i){return Ut(this,void 0,void 0,function*(){let o=n.provider;switch(e){case"getBlockNumber":case"getGasPrice":return o[e]();case"getEtherPrice":if(o.getEtherPrice)return o.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return i.blockTag&&(0,Ye.isHexString)(i.blockTag)&&(o=yield _t(n,t)),o[e](i.address,i.blockTag||"latest");case"getStorageAt":return i.blockTag&&(0,Ye.isHexString)(i.blockTag)&&(o=yield _t(n,t)),o.getStorageAt(i.address,i.position,i.blockTag||"latest");case"getBlock":return i.blockTag&&(0,Ye.isHexString)(i.blockTag)&&(o=yield _t(n,t)),o[i.includeTransactions?"getBlockWithTransactions":"getBlock"](i.blockTag||i.blockHash);case"call":case"estimateGas":return i.blockTag&&(0,Ye.isHexString)(i.blockTag)&&(o=yield _t(n,t)),e==="call"&&i.blockTag?o[e](i.transaction,i.blockTag):o[e](i.transaction);case"getTransaction":case"getTransactionReceipt":return o[e](i.transactionHash);case"getLogs":{let r=i.filter;return(r.fromBlock&&(0,Ye.isHexString)(r.fromBlock)||r.toBlock&&(0,Ye.isHexString)(r.toBlock))&&(o=yield _t(n,t)),o.getLogs(r)}}return st.throwError("unknown method error",Q.Logger.errors.UNKNOWN_ERROR,{method:e,params:i})})}class jr extends Bn.Zk{constructor(t,e){t.length===0&&st.throwArgumentError("missing providers","providers",t);const i=t.map((s,u)=>{if(Sr.zt.isProvider(s)){const c=(0,yt.Gp)(s)?2e3:750;return Object.freeze({provider:s,weight:1,stallTimeout:c,priority:1})}const l=(0,J.shallowCopy)(s);l.priority==null&&(l.priority=1),l.stallTimeout==null&&(l.stallTimeout=(0,yt.Gp)(s)?2e3:750),l.weight==null&&(l.weight=1);const a=l.weight;return(a%1||a>512||a<1)&&st.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${u}].weight`,a),Object.freeze(l)}),o=i.reduce((s,u)=>s+u.weight,0);e==null?e=o/2:e>o&&st.throwArgumentError("quorum will always fail; larger than total weight","quorum",e);let r=jn(i.map(s=>s.provider.network));r==null&&(r=new Promise((s,u)=>{setTimeout(()=>{this.detectNetwork().then(s,u)},0)})),super(r),(0,J.defineReadOnly)(this,"providerConfigs",Object.freeze(i)),(0,J.defineReadOnly)(this,"quorum",e),this._highestBlockNumber=-1}detectNetwork(){return Ut(this,void 0,void 0,function*(){const t=yield Promise.all(this.providerConfigs.map(e=>e.provider.getNetwork()));return jn(t)})}perform(t,e){return Ut(this,void 0,void 0,function*(){if(t==="sendTransaction"){const l=yield Promise.all(this.providerConfigs.map(a=>a.provider.sendTransaction(e.signedTransaction).then(c=>c.hash,c=>c)));for(let a=0;a<l.length;a++){const c=l[a];if(typeof c=="string")return c}throw l[0]}this._highestBlockNumber===-1&&t!=="getBlockNumber"&&(yield this.getBlockNumber());const i=Dr(this,t,e),o=(0,Nr.y)(this.providerConfigs.map(J.shallowCopy));o.sort((l,a)=>l.priority-a.priority);const r=this._highestBlockNumber;let s=0,u=!0;for(;;){const l=jt();let a=o.filter(A=>A.runner&&l-A.start<A.stallTimeout).reduce((A,S)=>A+S.weight,0);for(;a<this.quorum&&s<o.length;){const A=o[s++],S=Ir++;A.start=jt(),A.staller=Ln(A.stallTimeout),A.staller.wait(()=>{A.staller=null}),A.runner=Ur(A,r,t,e).then(I=>{A.done=!0,A.result=I,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:S,backend:Vt(A,jt()),request:{method:t,params:(0,J.deepCopy)(e)},provider:this})},I=>{A.done=!0,A.error=I,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:S,backend:Vt(A,jt()),request:{method:t,params:(0,J.deepCopy)(e)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:S,backend:Vt(A,null),request:{method:t,params:(0,J.deepCopy)(e)},provider:this}),a+=A.weight}const c=[];o.forEach(A=>{A.done||!A.runner||(c.push(A.runner),A.staller&&c.push(A.staller.getPromise()))}),c.length&&(yield Promise.race(c));const v=o.filter(A=>A.done&&A.error==null);if(v.length>=this.quorum){const A=i(v);if(A!==void 0)return o.forEach(S=>{S.staller&&S.staller.cancel(),S.cancelled=!0}),A;u||(yield Ln(100).getPromise()),u=!1}const O=o.reduce((A,S)=>{if(!S.done||S.error==null)return A;const I=S.error.code;return Rr.indexOf(I)>=0&&(A[I]||(A[I]={error:S.error,weight:0}),A[I].weight+=S.weight),A},{});if(Object.keys(O).forEach(A=>{const S=O[A];if(S.weight<this.quorum)return;o.forEach(j=>{j.staller&&j.staller.cancel(),j.cancelled=!0});const I=S.error,U={};Br.forEach(j=>{I[j]!=null&&(U[j]=I[j])}),st.throwError(I.reason||I.message,A,U)}),o.filter(A=>!A.done).length===0)break}return o.forEach(l=>{l.staller&&l.staller.cancel(),l.cancelled=!0}),st.throwError("failed to meet quorum",Q.Logger.errors.SERVER_ERROR,{method:t,params:e,results:o.map(l=>Vt(l)),provider:this})})}}const Vr=null,cn=new Q.Logger(Ve.i),Lr="ETHERS_JS_SHARED";class Hr extends nt{static getApiKey(t){return t&&typeof t!="string"&&cn.throwArgumentError("invalid apiKey","apiKey",t),t||Lr}static getUrl(t,e){cn.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let i=null;switch(t.name){case"homestead":i="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":i="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":i="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":i="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":i="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:cn.throwArgumentError("unsupported network","network",arguments[0])}return i+"?apiKey="+e}}const Hn=new Q.Logger(Ve.i),Wn="62e1ad51b37b8e00394bda3b";class Wr extends nt{static getApiKey(t){const e={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return t==null?e.applicationId=Wn:typeof t=="string"?e.applicationId=t:t.applicationSecretKey!=null?(e.applicationId=t.applicationId,e.applicationSecretKey=t.applicationSecretKey):t.applicationId?e.applicationId=t.applicationId:Hn.throwArgumentError("unsupported PocketProvider apiKey","apiKey",t),e}static getUrl(t,e){let i=null;switch(t?t.name:"unknown"){case"goerli":i="eth-goerli.gateway.pokt.network";break;case"homestead":i="eth-mainnet.gateway.pokt.network";break;case"kovan":i="poa-kovan.gateway.pokt.network";break;case"matic":i="poly-mainnet.gateway.pokt.network";break;case"maticmum":i="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":i="eth-rinkeby.gateway.pokt.network";break;case"ropsten":i="eth-ropsten.gateway.pokt.network";break;default:Hn.throwError("unsupported network",Q.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:t})}const o=`https://${i}/v1/lb/${e.applicationId}`,r={headers:{},url:o};return e.applicationSecretKey!=null&&(r.user="",r.password=e.applicationSecretKey),r}isCommunityResource(){return this.applicationId===Wn}}const qn=new Q.Logger(Ve.i);function qr(n,t){if(n==null&&(n="homestead"),typeof n=="string"){const i=n.match(/^(ws|http)s?:/i);if(i)switch(i[1].toLowerCase()){case"http":case"https":return new ht.r(n);case"ws":case"wss":return new rn(n);default:qn.throwArgumentError("unsupported URL scheme","network",n)}}const e=(0,wr.H)(n);return(!e||!e._defaultProvider)&&qn.throwError("unsupported getDefaultProvider network",Q.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:n}),e._defaultProvider({FallbackProvider:jr,AlchemyProvider:Nn,AnkrProvider:Ar,CloudflareProvider:Cr,EtherscanProvider:xr,InfuraProvider:on,JsonRpcProvider:ht.r,NodesmithProvider:Hr,PocketProvider:Wr,Web3Provider:On,IpcProvider:Vr},t)}var Gr=E(9279),Qr=E(8198),Lt=E(56371),it;(function(n){n.web3="web3",n.ethers="ethers",n.customHttp="custom"})(it||(it={}));var W;(function(n){n[n.mainnet=1]="mainnet",n[n.ropsten=3]="ropsten",n[n.rinkeby=4]="rinkeby",n[n.goerli=5]="goerli",n[n.optimism=10]="optimism",n[n.kovan=42]="kovan",n[n.matic=137]="matic",n[n.kovanOptimism=69]="kovanOptimism",n[n.xdai=100]="xdai",n[n.goerliOptimism=420]="goerliOptimism",n[n.arbitrum=42161]="arbitrum",n[n.rinkebyArbitrum=421611]="rinkebyArbitrum",n[n.goerliArbitrum=421613]="goerliArbitrum",n[n.mumbai=80001]="mumbai",n[n.sepolia=11155111]="sepolia",n[n.avalancheMainnet=43114]="avalancheMainnet",n[n.avalancheFuji=43113]="avalancheFuji",n[n.fantomTestnet=4002]="fantomTestnet",n[n.fantom=250]="fantom",n[n.bsc=56]="bsc",n[n.bsc_testnet=97]="bsc_testnet",n[n.moonbeam=1284]="moonbeam",n[n.moonriver=1285]="moonriver",n[n.moonbaseAlphaTestnet=1287]="moonbaseAlphaTestnet",n[n.harmony=16666e5]="harmony",n[n.cronos=25]="cronos",n[n.fuse=122]="fuse",n[n.songbirdCanaryNetwork=19]="songbirdCanaryNetwork",n[n.costonTestnet=16]="costonTestnet",n[n.boba=288]="boba",n[n.aurora=1313161554]="aurora",n[n.astar=592]="astar",n[n.okc=66]="okc",n[n.heco=128]="heco",n[n.metis=1088]="metis",n[n.rsk=30]="rsk",n[n.rskTestnet=31]="rskTestnet",n[n.evmos=9001]="evmos",n[n.evmosTestnet=9e3]="evmosTestnet",n[n.thundercore=108]="thundercore",n[n.thundercoreTestnet=18]="thundercoreTestnet",n[n.oasis=26863]="oasis",n[n.celo=42220]="celo",n[n.godwoken=71402]="godwoken",n[n.godwokentestnet=71401]="godwokentestnet",n[n.klatyn=8217]="klatyn",n[n.milkomeda=2001]="milkomeda",n[n.kcc=321]="kcc",n[n.etherlite=111]="etherlite"})(W||(W={}));var ut=function(){function n(){}return n.deepClone=function(t){return JSON.parse(JSON.stringify(t))},n}(),Ht=function(){return Ht=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ht.apply(this,arguments)},Wt=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},qt=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Kr=function(){function n(t){if(this._options=t,this.ABI=[{constant:!1,inputs:[{components:[{name:"target",type:"address"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{name:"blockNumber",type:"uint256"},{name:"returnData",type:"bytes[]"}],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"tryBlockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall2.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"}],this._options.web3Instance){this._executionType=it.web3;return}if(this._options.ethersProvider){this._executionType=it.ethers;return}if(this._options.nodeUrl){this._executionType=it.customHttp;return}throw new Error("Your options passed in our incorrect they need to match either `MulticallOptionsEthers`, `MulticallOptionsWeb3` or `MulticallOptionsCustomJsonRpcProvider` interfaces")}return n.prototype.call=function(t,e){return e===void 0&&(e={}),Wt(this,void 0,void 0,function(){var i,o,r,s,u,l,a,c,v,O,A;return qt(this,function(S){switch(S.label){case 0:return Array.isArray(t)||(t=[t]),[4,this.execute(this.buildAggregateCallContext(t),e)];case 1:for(i=S.sent(),o={results:{},blockNumber:i.blockNumber},r=0;r<i.results.length;r++){for(s=i.results[r],u=t[s.contractContextIndex],l={originalContractCallContext:ut.deepClone(u),callsReturnContext:[]},a=0;a<s.methodResults.length;a++){if(c=s.methodResults[a],v=u.calls[c.contractMethodIndex],O=this.findOutputTypesFromAbi(u.abi,v.methodName),this._options.tryAggregate&&!c.result.success){l.callsReturnContext.push(ut.deepClone({returnValues:[],decoded:!1,reference:v.reference,methodName:v.methodName,methodParameters:v.methodParameters,success:!1}));continue}if(O&&O.length>0)try{A=Lt.defaultAbiCoder.decode(O,this.getReturnDataFromResult(c.result)),l.callsReturnContext.push(ut.deepClone({returnValues:this.formatReturnValues(A),decoded:!0,reference:v.reference,methodName:v.methodName,methodParameters:v.methodParameters,success:!0}))}catch(I){if(!this._options.tryAggregate)throw I;l.callsReturnContext.push(ut.deepClone({returnValues:[],decoded:!1,reference:v.reference,methodName:v.methodName,methodParameters:v.methodParameters,success:!1}))}else l.callsReturnContext.push(ut.deepClone({returnValues:this.getReturnDataFromResult(c.result),decoded:!1,reference:v.reference,methodName:v.methodName,methodParameters:v.methodParameters,success:!0}))}o.results[l.originalContractCallContext.reference]=l}return[2,o]}})})},n.prototype.getReturnDataFromResult=function(t){return this._options.tryAggregate?t.returnData:t},n.prototype.formatReturnValues=function(t){var e=t;return t.length===1&&(e=t[0]),Array.isArray(e)?e:[e]},n.prototype.buildAggregateCallContext=function(t){for(var e=[],i=0;i<t.length;i++)for(var o=t[i],r=new Qr.vU(JSON.stringify(o.abi)),s=0;s<o.calls.length;s++){var u=o.calls[s],l=r.encodeFunctionData(u.methodName,u.methodParameters);e.push({contractContextIndex:ut.deepClone(i),contractMethodIndex:ut.deepClone(s),target:o.contractAddress,encodedData:l})}return e},n.prototype.findOutputTypesFromAbi=function(t,e){var i,o=new tn.CH(Gr.d,t);if(e=e.trim(),o.interface.functions[e])return o.interface.functions[e].outputs;for(var r=0;r<t.length;r++)if(((i=t[r].name)===null||i===void 0?void 0:i.trim())===e)return t[r].outputs},n.prototype.execute=function(t,e){return Wt(this,void 0,void 0,function(){var i;return qt(this,function(o){switch(o.label){case 0:switch(i=this._executionType,i){case it.web3:return[3,1];case it.ethers:return[3,3];case it.customHttp:return[3,3]}return[3,5];case 1:return[4,this.executeWithWeb3(t,e)];case 2:return[2,o.sent()];case 3:return[4,this.executeWithEthersOrCustom(t,e)];case 4:return[2,o.sent()];case 5:throw new Error(this._executionType+" is not defined")}})})},n.prototype.executeWithWeb3=function(t,e){return Wt(this,void 0,void 0,function(){var i,o,r,s,u,u,l,a;return qt(this,function(c){switch(c.label){case 0:return i=this.getTypedOptions().web3Instance,[4,i.eth.net.getId()];case 1:return o=c.sent(),r=new i.eth.Contract(this.ABI,this.getContractBasedOnNetwork(o)),s=[],e.blockNumber&&s.push(e.blockNumber),this._options.tryAggregate?[4,(l=r.methods.tryBlockAndAggregate(!1,this.mapCallContextToMatchContractFormat(t))).call.apply(l,s)]:[3,3];case 2:return u=c.sent(),u.blockNumber=Ne.O$.from(u.blockNumber),[2,this.buildUpAggregateResponse(u,t)];case 3:return[4,(a=r.methods.aggregate(this.mapCallContextToMatchContractFormat(t))).call.apply(a,s)];case 4:return u=c.sent(),u.blockNumber=Ne.O$.from(u.blockNumber),[2,this.buildUpAggregateResponse(u,t)]}})})},n.prototype.executeWithEthersOrCustom=function(t,e){return Wt(this,void 0,void 0,function(){var i,o,r,s,u,l,l;return qt(this,function(a){switch(a.label){case 0:return i=this.getTypedOptions().ethersProvider,i||(o=this.getTypedOptions(),o.nodeUrl?i=new ht.r(o.nodeUrl):i=qr()),[4,i.getNetwork()];case 1:return r=a.sent(),s=new tn.CH(this.getContractBasedOnNetwork(r.chainId),this.ABI,i),u={},e.blockNumber&&(u=Ht(Ht({},u),{blockTag:Number(e.blockNumber)})),this._options.tryAggregate?[4,s.callStatic.tryBlockAndAggregate(!1,this.mapCallContextToMatchContractFormat(t),u)]:[3,3];case 2:return l=a.sent(),[2,this.buildUpAggregateResponse(l,t)];case 3:return[4,s.callStatic.aggregate(this.mapCallContextToMatchContractFormat(t),u)];case 4:return l=a.sent(),[2,this.buildUpAggregateResponse(l,t)]}})})},n.prototype.buildUpAggregateResponse=function(t,e){for(var i={blockNumber:t.blockNumber.toNumber(),results:[]},o=function(s){var u=i.results.find(function(l){return l.contractContextIndex===e[s].contractContextIndex});u?u.methodResults.push({result:t.returnData[s],contractMethodIndex:e[s].contractMethodIndex}):i.results.push({methodResults:[{result:t.returnData[s],contractMethodIndex:e[s].contractMethodIndex}],contractContextIndex:e[s].contractContextIndex})},r=0;r<t.returnData.length;r++)o(r);return i},n.prototype.mapCallContextToMatchContractFormat=function(t){return t.map(function(e){return{target:e.target,callData:e.encodedData}})},n.prototype.getTypedOptions=function(){return this._options},n.prototype.getContractBasedOnNetwork=function(t){if(this._options.multicallCustomContractAddress)return this._options.multicallCustomContractAddress;switch(t){case W.mainnet:case W.ropsten:case W.rinkeby:case W.goerli:case W.optimism:case W.kovan:case W.matic:case W.kovanOptimism:case W.xdai:case W.goerliOptimism:case W.arbitrum:case W.rinkebyArbitrum:case W.goerliArbitrum:case W.mumbai:case W.sepolia:case W.avalancheMainnet:case W.avalancheFuji:case W.fantomTestnet:case W.fantom:case W.bsc:case W.bsc_testnet:case W.moonbeam:case W.moonriver:case W.moonbaseAlphaTestnet:case W.harmony:case W.cronos:case W.fuse:case W.songbirdCanaryNetwork:case W.costonTestnet:case W.boba:case W.aurora:case W.astar:case W.okc:case W.heco:case W.metis:case W.rsk:case W.rskTestnet:case W.evmos:case W.evmosTestnet:case W.thundercore:case W.thundercoreTestnet:case W.oasis:case W.celo:case W.godwoken:case W.godwokentestnet:case W.klatyn:case W.milkomeda:case W.kcc:return"0xcA11bde05977b3631167028862bE2a173976CA11";case W.etherlite:return"0x21681750D7ddCB8d1240eD47338dC984f94AF2aC";default:throw new Error("Network - "+t+" doesn't have a multicall contract address defined. Please check your network or deploy your own contract on it.")}},n}(),$r=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),ln=function(n){$r(t,n);function t(e,i){return n.call(this,{ethersProvider:e,tryAggregate:!0,multicallCustomContractAddress:i})||this}return t}(Kr),fn={WETH:"WETH",addLiquidity:"addLiquidity",addLiquidityETH:"addLiquidityETH",factory:"factory",getAmountIn:"getAmountIn",getAmountOut:"getAmountOut",getAmountsIn:"getAmountsIn",getAmountsOut:"getAmountsOut",quote:"quote",removeLiquidity:"removeLiquidity",removeLiquidityETH:"removeLiquidityETH",removeLiquidityETHSupportingFeeOnTransferTokens:"removeLiquidityETHSupportingFeeOnTransferTokens",removeLiquidityETHWithPermit:"removeLiquidityETHWithPermit",removeLiquidityETHWithPermitSupportingFeeOnTransferTokens:"removeLiquidityETHWithPermitSupportingFeeOnTransferTokens",removeLiquidityWithPermit:"removeLiquidityWithPermit",swapETHForExactTokens:"swapETHForExactTokens",swapExactETHForTokens:"swapExactETHForTokens",swapExactETHForTokensSupportingFeeOnTransferTokens:"swapExactETHForTokensSupportingFeeOnTransferTokens",swapExactTokensForETH:"swapExactTokensForETH",swapExactTokensForETHSupportingFeeOnTransferTokens:"swapExactTokensForETHSupportingFeeOnTransferTokens",swapExactTokensForTokens:"swapExactTokensForTokens",swapExactTokensForTokensSupportingFeeOnTransferTokens:"swapExactTokensForTokensSupportingFeeOnTransferTokens",swapTokensForExactETH:"swapTokensForExactETH",swapTokensForExactTokens:"swapTokensForExactTokens"},Be=function(){function n(){}return n.routerAddress="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",n.factoryAddress="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",n.pairAddress="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",n.routerAbi=E(24630),n.factoryAbi=E(4003),n.pairAbi=E(67906),n.routerMethods=fn,n}(),Me=function(){function n(){}return n.routerAddress="0xE592427A0AEce92De3Edee1F18E0157C05861564",n.factoryAddress="0x1F98431c8aD98523631AE4a59f267346ea31F984",n.quoterAddress="0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",n.routerAbi=E(52866),n.factoryAbi=E(57755),n.quoterAbi=E(7466),n}(),pe={v2:{getRouterAddress:function(n){return n&&n.v2Override?n.v2Override.routerAddress:Be.routerAddress},getFactoryAddress:function(n){return n&&n.v2Override?n.v2Override.factoryAddress:Be.factoryAddress},getPairAddress:function(n){return n&&n.v2Override?n.v2Override.pairAddress:Be.pairAddress},getRouterAbi:function(n){return n&&n.v2Override&&n.v2Override.routerAbi?n.v2Override.routerAbi:Be.routerAbi},getRouterMethods:function(n){return n&&n.v2Override&&n.v2Override.routerMethods?n.v2Override.routerMethods:Be.routerMethods}},v3:{getRouterAddress:function(n){return n&&n.v3Override?n.v3Override.routerAddress:Me.routerAddress},getFactoryAddress:function(n){return n&&n.v3Override?n.v3Override.factoryAddress:Me.factoryAddress},getQuoterAddress:function(n){return n&&n.v3Override?n.v3Override.quoterAddress:Me.quoterAddress},getRouterAbi:function(n){return n&&n.v3Override&&n.v3Override.routerAbi?n.v3Override.routerAbi:Me.routerAbi}}},Gn=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},Qn=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},dn=function(){function n(t,e,i){var o;this._ethersProvider=t,this._customNetwork=e,this._cloneUniswapContractDetails=i,this._multicall=new ln(this._ethersProvider.provider,(o=this._customNetwork)===null||o===void 0?void 0:o.multicallContractAddress)}return n.prototype.getTokens=function(t){var e;return Gn(this,void 0,void 0,function(){var i,o,r,s,u,l,a,c,v,O,A,S;return Qn(this,function(I){switch(I.label){case 0:for(I.trys.push([0,2,,3]),i=[],o=0,r=1,s=2,u=[],l=0;l<t.length;l++)if(te(t[l]))i.push(X.info(this._ethersProvider.network().chainId,(e=this._customNetwork)===null||e===void 0?void 0:e.nativeWrappedTokenInfo));else{if(a=sn(t[l]),a){i.push(a);continue}c={reference:"token"+l,contractAddress:ge(t[l]),abi:kt.erc20Abi,calls:[{reference:"symbol",methodName:"symbol",methodParameters:[]},{reference:"decimals",methodName:"decimals",methodParameters:[]},{reference:"name",methodName:"name",methodParameters:[]}]},u.push(c)}return[4,this._multicall.call(u)];case 1:v=I.sent();for(O in v.results)A=v.results[O],i.push({chainId:this._ethersProvider.network().chainId,contractAddress:A.originalContractCallContext.contractAddress,symbol:A.callsReturnContext[o].returnValues[0],decimals:A.callsReturnContext[r].returnValues[0],name:A.callsReturnContext[s].returnValues[0]});return[2,i];case 2:throw S=I.sent(),new R("invalid from or to contract tokens",x.invalidFromOrToContractToken);case 3:return[2]}})})},n.prototype.getAllowanceAndBalanceOfForContracts=function(t,e,i){var o,r,s;return i===void 0&&(i=!1),Gn(this,void 0,void 0,function(){var u,l,a,c,v,O,A,S,I,U,j,P,se,ce,le,we,Ae,f,d,h,T,m,g,_;return Qn(this,function(y){switch(y.label){case 0:u=[],l=0,a=1,c=2,v=3,O=4,A=[],S=0,y.label=1;case 1:return S<e.length?te(e[S])?[3,2]:(A.push(this.buildAllowanceAndBalanceContractCallContext(t,e[S],N.v2)),A.push(this.buildAllowanceAndBalanceContractCallContext(t,e[S],N.v3)),[3,6]):[3,7];case 2:return I=X.info(this._ethersProvider.network().chainId,(o=this._customNetwork)===null||o===void 0?void 0:o.nativeWrappedTokenInfo),i?(j=(U=u).push,T={},m={allowanceV2:new M("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").shiftedBy(18*-1).toFixed(),allowanceV3:new M("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").shiftedBy(18*-1).toFixed()},P=M.bind,[4,this._ethersProvider.balanceOf(t)]):[3,4];case 3:return j.apply(U,[(T.allowanceAndBalanceOf=(m.balanceOf=new(P.apply(M,[void 0,y.sent()]))().shiftedBy(18*-1).toFixed(),m),T.token=I,T)]),[3,6];case 4:return ce=(se=u).push,g={},_={allowanceV2:"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",allowanceV3:"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"},[4,this._ethersProvider.balanceOf(t)];case 5:ce.apply(se,[(g.allowanceAndBalanceOf=(_.balanceOf=y.sent(),_),g.token=X.info(this._ethersProvider.network().chainId,(r=this._customNetwork)===null||r===void 0?void 0:r.nativeWrappedTokenInfo),g)]),y.label=6;case 6:return S++,[3,1];case 7:return[4,this._multicall.call(A)];case 8:le=y.sent();for(we in le.results)we.includes("_"+N.v2)&&(Ae=(s=le.results[we].originalContractCallContext.context)===null||s===void 0?void 0:s.overridenToken,f=le.results[we],d=le.results[we.replace("_"+N.v2,"_"+N.v3)],i?(h=Ae!==void 0?Ae.decimals:f.callsReturnContext[c].returnValues[0],u.push({allowanceAndBalanceOf:{allowanceV2:new M(Ne.O$.from(f.callsReturnContext[l].returnValues[0]).toHexString()).shiftedBy(h*-1).toFixed(),allowanceV3:new M(Ne.O$.from(d.callsReturnContext[l].returnValues[0]).toHexString()).shiftedBy(h*-1).toFixed(),balanceOf:new M(Ne.O$.from(d.callsReturnContext[a].returnValues[0]).toHexString()).shiftedBy(h*-1).toFixed()},token:Ae!==void 0?Ae:{chainId:this._ethersProvider.network().chainId,contractAddress:d.originalContractCallContext.contractAddress,symbol:d.callsReturnContext[v].returnValues[0],decimals:d.callsReturnContext[c].returnValues[0],name:d.callsReturnContext[O].returnValues[0]}})):u.push({allowanceAndBalanceOf:{allowanceV2:Ne.O$.from(f.callsReturnContext[l].returnValues[0]).toHexString(),allowanceV3:Ne.O$.from(d.callsReturnContext[l].returnValues[0]).toHexString(),balanceOf:Ne.O$.from(d.callsReturnContext[a].returnValues[0]).toHexString()},token:Ae!==void 0?Ae:{chainId:this._ethersProvider.network().chainId,contractAddress:d.originalContractCallContext.contractAddress,symbol:d.callsReturnContext[v].returnValues[0],decimals:d.callsReturnContext[c].returnValues[0],name:d.callsReturnContext[O].returnValues[0]}}));return[2,u]}})})},n.prototype.buildAllowanceAndBalanceContractCallContext=function(t,e,i){var o={reference:e+"_"+i,contractAddress:ge(e),abi:kt.erc20Abi,calls:[{reference:"allowance",methodName:"allowance",methodParameters:[t,i===N.v2?pe.v2.getRouterAddress(this._cloneUniswapContractDetails):pe.v3.getRouterAddress(this._cloneUniswapContractDetails)]},{reference:"balanceOf",methodName:"balanceOf",methodParameters:[t]}]},r=sn(e);return r?o.context={overridenToken:r}:o.calls.push({reference:"decimals",methodName:"decimals",methodParameters:[]},{reference:"symbol",methodName:"symbol",methodParameters:[]},{reference:"name",methodName:"name",methodParameters:[]}),o},n}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pn=function(t,e){return pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},pn(t,e)};function vt(n,t){pn(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Kn=function(){return Kn=Object.assign||function(e){for(var i,o=1,r=arguments.length;o<r;o++){i=arguments[o];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Kn.apply(this,arguments)};function Fi(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(e[i[o]]=n[i[o]]);return e}function Oi(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var u=n.length-1;u>=0;u--)(s=n[u])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r}function xi(n,t){return function(e,i){t(e,i,n)}}function Si(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function Ni(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})}function Ii(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Ri(n,t,e,i){i===void 0&&(i=e),n[i]=t[e]}function Bi(n,t){for(var e in n)e!=="default"&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function $n(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jr(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),o,r=[],s;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)r.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(s)throw s.error}}return r}function Mi(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Jr(arguments[t]));return n}function Di(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),o=0,t=0;t<e;t++)for(var r=arguments[t],s=0,u=r.length;s<u;s++,o++)i[o]=r[s];return i}function Gt(n){return this instanceof Gt?(this.v=n,this):new Gt(n)}function Ui(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),o,r=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(O){i[O]&&(o[O]=function(A){return new Promise(function(S,I){r.push([O,A,S,I])>1||u(O,A)})})}function u(O,A){try{l(i[O](A))}catch(S){v(r[0][3],S)}}function l(O){O.value instanceof Gt?Promise.resolve(O.value.v).then(a,c):v(r[0][2],O)}function a(O){u("next",O)}function c(O){u("throw",O)}function v(O,A){O(A),r.shift(),r.length&&u(r[0][0],r[0][1])}}function ji(n){var t,e;return t={},i("next"),i("throw",function(o){throw o}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(o,r){t[o]=n[o]?function(s){return(e=!e)?{value:Gt(n[o](s)),done:o==="return"}:r?r(s):s}:r}}function Vi(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof $n=="function"?$n(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=n[r]&&function(s){return new Promise(function(u,l){s=n[r](s),o(u,l,s.done,s.value)})}}function o(r,s,u,l){Promise.resolve(l).then(function(a){r({value:a,done:u})},s)}}function Li(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function Hi(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function Wi(n){return n&&n.__esModule?n:{default:n}}function qi(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)}function Gi(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e}function hn(n){return typeof n=="function"}var yn=!1,$e={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){var t=new Error;""+t.stack}yn=n},get useDeprecatedSynchronousErrorHandling(){return yn}};function Pt(n){setTimeout(function(){throw n},0)}var Qt={closed:!0,next:function(n){},error:function(n){if($e.useDeprecatedSynchronousErrorHandling)throw n;Pt(n)},complete:function(){}},Yr=function(){return Array.isArray||function(n){return n&&typeof n.length=="number"}}();function zr(n){return n!==null&&typeof n=="object"}var Xr=function(){function n(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,i){return i+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n}(),Kt=Xr,At=function(){function n(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return n.prototype.unsubscribe=function(){var t;if(!this.closed){var e=this,i=e._parentOrParents,o=e._ctorUnsubscribe,r=e._unsubscribe,s=e._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof n)i.remove(this);else if(i!==null)for(var u=0;u<i.length;++u){var l=i[u];l.remove(this)}if(hn(r)){o&&(this._unsubscribe=void 0);try{r.call(this)}catch(v){t=v instanceof Kt?Jn(v.errors):[v]}}if(Yr(s))for(var u=-1,a=s.length;++u<a;){var c=s[u];if(zr(c))try{c.unsubscribe()}catch(O){t=t||[],O instanceof Kt?t=t.concat(Jn(O.errors)):t.push(O)}}if(t)throw new Kt(t)}},n.prototype.add=function(t){var e=t;if(!t)return n.EMPTY;switch(typeof t){case"function":e=new n(t);case"object":if(e===this||e.closed||typeof e.unsubscribe!="function")return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof n)){var i=e;e=new n,e._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=e._parentOrParents;if(o===null)e._parentOrParents=this;else if(o instanceof n){if(o===this)return e;e._parentOrParents=[o,this]}else if(o.indexOf(this)===-1)o.push(this);else return e;var r=this._subscriptions;return r===null?this._subscriptions=[e]:r.push(e),e},n.prototype.remove=function(t){var e=this._subscriptions;if(e){var i=e.indexOf(t);i!==-1&&e.splice(i,1)}},n.EMPTY=function(t){return t.closed=!0,t}(new n),n}();function Jn(n){return n.reduce(function(t,e){return t.concat(e instanceof Kt?e.errors:e)},[])}var $t=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Qi=null,bt=function(n){vt(t,n);function t(e,i,o){var r=n.call(this)||this;switch(r.syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=Qt;break;case 1:if(!e){r.destination=Qt;break}if(typeof e=="object"){e instanceof t?(r.syncErrorThrowable=e.syncErrorThrowable,r.destination=e,e.add(r)):(r.syncErrorThrowable=!0,r.destination=new Yn(r,e));break}default:r.syncErrorThrowable=!0,r.destination=new Yn(r,e,i,o);break}return r}return t.prototype[$t]=function(){return this},t.create=function(e,i,o){var r=new t(e,i,o);return r.syncErrorThrowable=!1,r},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(At),Yn=function(n){vt(t,n);function t(e,i,o,r){var s=n.call(this)||this;s._parentSubscriber=e;var u,l=s;return hn(i)?u=i:i&&(u=i.next,o=i.error,r=i.complete,i!==Qt&&(l=Object.create(i),hn(l.unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(s))),s._context=l,s._next=u,s._error=o,s._complete=r,s}return t.prototype.next=function(e){if(!this.isStopped&&this._next){var i=this._parentSubscriber;!$e.useDeprecatedSynchronousErrorHandling||!i.syncErrorThrowable?this.__tryOrUnsub(this._next,e):this.__tryOrSetError(i,this._next,e)&&this.unsubscribe()}},t.prototype.error=function(e){if(!this.isStopped){var i=this._parentSubscriber,o=$e.useDeprecatedSynchronousErrorHandling;if(this._error)!o||!i.syncErrorThrowable?(this.__tryOrUnsub(this._error,e),this.unsubscribe()):(this.__tryOrSetError(i,this._error,e),this.unsubscribe());else if(i.syncErrorThrowable)o?(i.syncErrorValue=e,i.syncErrorThrown=!0):Pt(e),this.unsubscribe();else{if(this.unsubscribe(),o)throw e;Pt(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var i=this._parentSubscriber;if(this._complete){var o=function(){return e._complete.call(e._context)};!$e.useDeprecatedSynchronousErrorHandling||!i.syncErrorThrowable?(this.__tryOrUnsub(o),this.unsubscribe()):(this.__tryOrSetError(i,o),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,i){try{e.call(this._context,i)}catch(o){if(this.unsubscribe(),$e.useDeprecatedSynchronousErrorHandling)throw o;Pt(o)}},t.prototype.__tryOrSetError=function(e,i,o){if(!$e.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{i.call(this._context,o)}catch(r){return $e.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Pt(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(bt);function Zr(n){for(;n;){var t=n,e=t.closed,i=t.destination,o=t.isStopped;if(e||o)return!1;i&&i instanceof bt?n=i:n=null}return!0}function ei(n,t,e){if(n){if(n instanceof bt)return n;if(n[$t])return n[$t]()}return!n&&!t&&!e?new bt(Qt):new bt(n,t,e)}var ti=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ni(n){return n}function Ki(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return zn(n)}function zn(n){return n.length===0?ni:n.length===1?n[0]:function(e){return n.reduce(function(i,o){return o(i)},e)}}var Xn=function(){function n(t){this._isScalar=!1,t&&(this._subscribe=t)}return n.prototype.lift=function(t){var e=new n;return e.source=this,e.operator=t,e},n.prototype.subscribe=function(t,e,i){var o=this.operator,r=ei(t,e,i);if(o?r.add(o.call(r,this.source)):r.add(this.source||$e.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),$e.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},n.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){$e.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Zr(t)?t.error(e):console.warn(e)}},n.prototype.forEach=function(t,e){var i=this;return e=Zn(e),new e(function(o,r){var s;s=i.subscribe(function(u){try{t(u)}catch(l){r(l),s&&s.unsubscribe()}},r,o)})},n.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},n.prototype[ti]=function(){return this},n.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?this:zn(t)(this)},n.prototype.toPromise=function(t){var e=this;return t=Zn(t),new t(function(i,o){var r;e.subscribe(function(s){return r=s},function(s){return o(s)},function(){return i(r)})})},n.create=function(t){return new n(t)},n}();function Zn(n){if(n||(n=$e.Promise||Promise),!n)throw new Error("no Promise impl found");return n}var ri=function(){function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n}(),Et=ri,ii=function(n){vt(t,n);function t(e,i){var o=n.call(this)||this;return o.subject=e,o.subscriber=i,o.closed=!1,o}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,i=e.observers;if(this.subject=null,!(!i||i.length===0||e.isStopped||e.closed)){var o=i.indexOf(this.subscriber);o!==-1&&i.splice(o,1)}}},t}(At),oi=function(n){vt(t,n);function t(e){var i=n.call(this,e)||this;return i.destination=e,i}return t}(bt),er=function(n){vt(t,n);function t(){var e=n.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return t.prototype[$t]=function(){return new oi(this)},t.prototype.lift=function(e){var i=new tr(this,this);return i.operator=e,i},t.prototype.next=function(e){if(this.closed)throw new Et;if(!this.isStopped)for(var i=this.observers,o=i.length,r=i.slice(),s=0;s<o;s++)r[s].next(e)},t.prototype.error=function(e){if(this.closed)throw new Et;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var i=this.observers,o=i.length,r=i.slice(),s=0;s<o;s++)r[s].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Et;this.isStopped=!0;for(var e=this.observers,i=e.length,o=e.slice(),r=0;r<i;r++)o[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(e){if(this.closed)throw new Et;return n.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){if(this.closed)throw new Et;return this.hasError?(e.error(this.thrownError),At.EMPTY):this.isStopped?(e.complete(),At.EMPTY):(this.observers.push(e),new ii(this,e))},t.prototype.asObservable=function(){var e=new Xn;return e.source=this,e},t.create=function(e,i){return new tr(e,i)},t}(Xn),tr=function(n){vt(t,n);function t(e,i){var o=n.call(this)||this;return o.destination=e,o.source=i,o}return t.prototype.next=function(e){var i=this.destination;i&&i.next&&i.next(e)},t.prototype.error=function(e){var i=this.destination;i&&i.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var i=this.source;return i?this.source.subscribe(e):At.EMPTY},t}(er),mn=function(){function n(){}return n.HEX_START="0x",n.EMPTY_HEX_STRING=n.HEX_START+"00",n.ETH_MAX_DECIMALS=18,n}(),he;(function(n){n.ethToErc20="ethToErc20",n.erc20ToEth="erc20ToEth",n.erc20ToErc20="erc20ToErc20"})(he||(he={}));function nr(n,t,e,i){return t.contractAddress===X.info(n,i).contractAddress?he.ethToErc20:e.contractAddress===X.info(n,i).contractAddress?he.erc20ToEth:he.erc20ToErc20}var ai=function(){function n(){}return n.MAINNET=function(){return{chainId:F.MAINNET,contractAddress:"0x2260fac5e5542a773aa44fbcfedf7c193bc2c599",decimals:8,symbol:"WBTC",name:"Wrapped BTC"}},n.token=function(t){switch(t){case F.MAINNET:return this.MAINNET();default:throw new R(t+" is not allowed",x.tokenChainIdContractDoesNotExist)}},n}();function vn(n){return new M((0,Lt.formatEther)(new M(n).toFixed()))}function ae(n){return(0,Lt.hexlify)(Ne.O$.from(n.toFixed(0)))}function Pe(n,t){return re.isAddress(z(n))&&re.isAddress(z(t))&&n.toLowerCase()===t.toLowerCase()}function Jt(n,t,e){return e.indexOf(n)===t}function Ze(n){return new M((0,Lt.parseEther)(new M(n).toFixed()).toHexString())}function si(n){return Ne.O$.from(n.toFixed())}var De;(function(n){n.from="from",n.to="to"})(De||(De={}));var Yt=function(){return Yt=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Yt.apply(this,arguments)},bn=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},gn=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},rr=function(){function n(t,e,i,o){e===void 0&&(e=Be.routerAddress),i===void 0&&(i=Be.routerAbi),o===void 0&&(o=fn),this._ethersProvider=t,this._routerAddress=e,this._routerAbi=i,this._routerMethods=o,this._uniswapRouterContract=this._ethersProvider.getContract(JSON.stringify(this._routerAbi),this._routerAddress),this._uniswapRouterNames=Yt(Yt({},fn),this._routerMethods)}return n.prototype.addLiquidity=function(t,e,i,o,r,s,u,l){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.addLiquidity,[t,e,i,o,r,s,u,l])},n.prototype.addLiquidityETH=function(t,e,i,o,r,s){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.addLiquidityETH,[t,e,i,o,r,s])},n.prototype.factory=function(){return bn(this,void 0,void 0,function(){return gn(this,function(t){switch(t.label){case 0:return[4,this._uniswapRouterContract.factory()];case 1:return[2,t.sent()]}})})},n.prototype.getAmountsOut=function(t,e){return bn(this,void 0,void 0,function(){var i;return gn(this,function(o){switch(o.label){case 0:return[4,this._uniswapRouterContract.getAmountsOut(t,e)];case 1:return i=o.sent(),[2,i.map(function(r){return r.toHexString()})]}})})},n.prototype.quote=function(t,e,i){return bn(this,void 0,void 0,function(){return gn(this,function(o){switch(o.label){case 0:return[4,this._uniswapRouterContract.quote(t,e,i)];case 1:return[2,o.sent().toHexString()]}})})},n.prototype.removeLiquidity=function(t,e,i,o,r,s,u){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.removeLiquidity,[t,e,i,o,r,s,u])},n.prototype.removeLiquidityETH=function(t,e,i,o,r,s){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.removeLiquidity,[t,e,i,o,r,s])},n.prototype.removeLiquidityETHSupportingFeeOnTransferTokens=function(t,e,i,o,r,s){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.removeLiquidityETHSupportingFeeOnTransferTokens,[t,e,i,o,r,s])},n.prototype.removeLiquidityETHWithPermit=function(t,e,i,o,r,s,u,l,a,c){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.removeLiquidityETHWithPermit,[t,e,i,o,r,s,u,l,a,c])},n.prototype.removeLiquidityETHWithPermitSupportingFeeOnTransferTokens=function(t,e,i,o,r,s,u,l,a,c){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.removeLiquidityETHWithPermitSupportingFeeOnTransferTokens,[t,e,i,o,r,s,u,l,a,c])},n.prototype.removeLiquidityWithPermit=function(t,e,i,o,r,s,u,l,a,c,v){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.removeLiquidityWithPermit,[t,e,i,o,r,s,u,l,a,c,v])},n.prototype.swapExactETHForTokens=function(t,e,i,o){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.swapExactETHForTokens,[t,e,i,o])},n.prototype.swapETHForExactTokens=function(t,e,i,o){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.swapETHForExactTokens,[t,e,i,o])},n.prototype.swapExactETHForTokensSupportingFeeOnTransferTokens=function(t,e,i,o,r){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.swapExactETHForTokensSupportingFeeOnTransferTokens,[t,e,i,o,r])},n.prototype.swapExactTokensForETH=function(t,e,i,o,r){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.swapExactTokensForETH,[t,e,i,o,r])},n.prototype.swapTokensForExactETH=function(t,e,i,o,r){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.swapTokensForExactETH,[t,e,i,o,r])},n.prototype.swapExactTokensForETHSupportingFeeOnTransferTokens=function(t,e,i,o,r){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.swapExactTokensForETHSupportingFeeOnTransferTokens,[t,e,i,o,r])},n.prototype.swapExactTokensForTokens=function(t,e,i,o,r){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.swapExactTokensForTokens,[t,e,i,o,r])},n.prototype.swapTokensForExactTokens=function(t,e,i,o,r){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.swapTokensForExactTokens,[t,e,i,o,r])},n.prototype.swapExactTokensForTokensSupportingFeeOnTransferTokens=function(t,e,i,o,r){return this._uniswapRouterContract.interface.encodeFunctionData(this._uniswapRouterNames.swapExactTokensForTokensSupportingFeeOnTransferTokens,[t,e,i,o,r])},n}(),We;(function(n){n[n.LOW=500]="LOW",n[n.MEDIUM=3e3]="MEDIUM",n[n.HIGH=1e4]="HIGH"})(We||(We={}));var et=function(n){switch(n){case We.LOW:return 5e-4;case We.MEDIUM:return .003;case We.HIGH:return .01}},zt=function(n){switch(n){case 5e-4:return We.LOW;case .003:return We.MEDIUM;case .01:return We.HIGH;default:return We.MEDIUM}},ir=function(){function n(t,e,i){e===void 0&&(e=Me.routerAddress),i===void 0&&(i=Me.routerAbi),this._ethersProvider=t,this._routerAddress=e,this._routerAbi=i,this._uniswapRouterContract=this._ethersProvider.getContract(JSON.stringify(this._routerAbi),this._routerAddress)}return n.prototype.exactInputSingle=function(t){return this._uniswapRouterContract.interface.encodeFunctionData("exactInputSingle",[t])},n.prototype.exactOutputSingle=function(t){return this._uniswapRouterContract.interface.encodeFunctionData("exactOutputSingle",[t])},n.prototype.exactInput=function(t){return this._uniswapRouterContract.interface.encodeFunctionData("exactInput",[t])},n.prototype.exactOutput=function(t){return this._uniswapRouterContract.interface.encodeFunctionData("exactOutput",[t])},n.prototype.unwrapWETH9=function(t,e){return this._uniswapRouterContract.interface.encodeFunctionData("unwrapWETH9",[t,e])},n.prototype.multicall=function(t){return this._uniswapRouterContract.interface.encodeFunctionData("multicall",[t])},n}(),ot=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},at=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},ui=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),o=0,t=0;t<e;t++)for(var r=arguments[t],s=0,u=r.length;s<u;s++,o++)i[o]=r[s];return i},ci=function(){function n(t,e,i,o,r,s){var u,l;this._coinGecko=t,this._ethereumAddress=e,this._fromToken=i,this._toToken=o,this._settings=r,this._ethersProvider=s,this._multicall=new ln(this._ethersProvider.provider,(l=(u=this._settings)===null||u===void 0?void 0:u.customNetwork)===null||l===void 0?void 0:l.multicallContractAddress),this._uniswapRouterContractFactoryV2=new rr(this._ethersProvider,pe.v2.getRouterAddress(this._settings.cloneUniswapContractDetails),pe.v2.getRouterAbi(this._settings.cloneUniswapContractDetails),pe.v2.getRouterMethods(this._settings.cloneUniswapContractDetails)),this._uniswapRouterContractFactoryV3=new ir(this._ethersProvider,pe.v3.getRouterAddress(this._settings.cloneUniswapContractDetails),pe.v3.getRouterAbi(this._settings.cloneUniswapContractDetails)),this._tokensFactory=new dn(this._ethersProvider,this._settings.customNetwork,this._settings.cloneUniswapContractDetails),this.LIQUIDITY_PROVIDER_FEE_V2=.003}return n.prototype.getAllPossibleRoutes=function(){return ot(this,void 0,void 0,function(){var t,e,i,o,r,s,u,i,o,r,s,l,a,c,v,O,A,S,I,U,j,P,se,O,A,S,I,U,j,P,se;return at(this,function(ce){switch(ce.label){case 0:if(t=[],this._settings.disableMultihops?t=[[[this._fromToken,this._toToken]]]:t=[this.mainCurrenciesPairsForFromToken,this.mainCurrenciesPairsForToToken,this.mainCurrenciesPairsForUSDT,this.mainCurrenciesPairsForCOMP,this.mainCurrenciesPairsForDAI,this.mainCurrenciesPairsForUSDC,this.mainCurrenciesPairsForWETH,this.mainCurrenciesPairsForWBTC,[[this._fromToken,this._toToken]]],e=[],this._settings.uniswapVersions.includes(N.v2))for(e.push({reference:N.v2,contractAddress:pe.v2.getPairAddress(this._settings.cloneUniswapContractDetails),abi:Be.pairAbi,calls:[]}),i=0;i<t.length;i++)for(o=0;o<t[i].length;o++)r=t[i][o][0],s=t[i][o][1],!Pe(r.contractAddress,s.contractAddress)&&e[0].calls.push({reference:r.contractAddress+"-"+s.contractAddress+"-"+r.symbol+"/"+s.symbol,methodName:"getPair",methodParameters:[z(r.contractAddress),z(s.contractAddress)]});if(this._settings.uniswapVersions.includes(N.v3)){for(u=[],i=0;i<t.length;i++)for(o=0;o<t[i].length;o++)if(r=t[i][o][0],s=t[i][o][1],!Pe(r.contractAddress,s.contractAddress))for(l=0;l<3;l++)a=[We.LOW,We.MEDIUM,We.HIGH][l],u.push({reference:r.contractAddress+"-"+s.contractAddress+"-"+r.symbol+"/"+s.symbol+"-"+a,methodName:"getPool",methodParameters:[z(r.contractAddress),z(s.contractAddress),a]});e.push({reference:N.v3,contractAddress:pe.v3.getFactoryAddress(this._settings.cloneUniswapContractDetails),abi:Me.factoryAbi,calls:u})}return c={v2:[],v3:[]},[4,this._multicall.call(e)];case 1:if(v=ce.sent(),this._settings.uniswapVersions.includes(N.v2)){for(O=v.results[N.v2],A=O.callsReturnContext.filter(function(le){return le.returnValues[0]!=="0x0000000000000000000000000000000000000000"}),S={token:this._fromToken,pairs:{fromTokenPairs:this.getTokenAvailablePairs(this._fromToken,A,De.from)}},I={token:this._toToken,pairs:{toTokenPairs:this.getTokenAvailablePairs(this._toToken,A,De.to)}},U=[],j=0;j<this.allMainTokens.length;j++)P=this.getTokenAvailablePairs(this.allMainTokens[j],A,De.from),se=this.getTokenAvailablePairs(this.allMainTokens[j],A,De.to),U.push({token:this.allMainTokens[j],pairs:{fromTokenPairs:P,toTokenPairs:se}});c.v2=this.workOutAllPossibleRoutes(S,I,U)}if(this._settings.uniswapVersions.includes(N.v3)){for(O=v.results[N.v3],A=O.callsReturnContext.filter(function(le){return le.returnValues[0]!=="0x0000000000000000000000000000000000000000"}),S={token:this._fromToken,pairs:{fromTokenPairs:this.getTokenAvailablePairsV3(this._fromToken,A,De.from)}},I={token:this._toToken,pairs:{toTokenPairs:this.getTokenAvailablePairsV3(this._toToken,A,De.to)}},U=[],j=0;j<this.allMainTokens.length;j++)P=this.getTokenAvailablePairsV3(this.allMainTokens[j],A,De.from),se=this.getTokenAvailablePairsV3(this.allMainTokens[j],A,De.to),U.push({token:this.allMainTokens[j],pairs:{fromTokenPairs:P,toTokenPairs:se}});c.v3=this.workOutAllPossibleRoutesV3(S,I,U)}return[2,c]}})})},n.prototype.getAllPossibleRoutesWithQuotes=function(t,e){return ot(this,void 0,void 0,function(){var i,o,r,s,u,s,u,l;return at(this,function(a){switch(a.label){case 0:return i=this.formatAmountToTrade(t,e),[4,this.getAllPossibleRoutes()];case 1:if(o=a.sent(),r=[],this._settings.uniswapVersions.includes(N.v2))for(r.push({reference:N.v2,contractAddress:pe.v2.getRouterAddress(this._settings.cloneUniswapContractDetails),abi:pe.v2.getRouterAbi(this._settings.cloneUniswapContractDetails),calls:[],context:o.v2}),s=0;s<o.v2.length;s++)u=o.v2[s].route.map(function(c){return z(c.contractAddress)}),r[0].calls.push({reference:"route"+s,methodName:e===K.input?"getAmountsOut":"getAmountsIn",methodParameters:[i,u]});if(this._settings.uniswapVersions.includes(N.v3))for(r.push({reference:N.v3,contractAddress:pe.v3.getQuoterAddress(this._settings.cloneUniswapContractDetails),abi:Me.quoterAbi,calls:[],context:o.v3}),s=0;s<o.v3.length;s++)if(u=o.v3[s].route.map(function(c){return z(c.contractAddress)}),u.length==2)r[this._settings.uniswapVersions.includes(N.v2)?1:0].calls.push({reference:"route"+s,methodName:e===K.input?"quoteExactInputSingle":"quoteExactOutputSingle",methodParameters:[u[0],u[1],zt(o.v3[s].liquidityProviderFeesV3[0]),i,0]});else if(u.length>2)r[this._settings.uniswapVersions.includes(N.v2)?1:0].calls.push({reference:"route"+s,methodName:e===K.input?"quoteExactInput":"quoteExactOutput",methodParameters:[this.getEncodedPoolsPath(u,o.v3[s].liquidityProviderFeesV3,e),i]});else continue;return[4,this._multicall.call(r)];case 2:return l=a.sent(),[2,this.buildRouteQuotesFromResults(t,l,e)]}})})},n.prototype.findBestRoute=function(t,e){return ot(this,void 0,void 0,function(){var i,o;return at(this,function(r){switch(r.label){case 0:return[4,this.getAllPossibleRoutesWithQuotes(t,e)];case 1:if(i=r.sent(),i.length===0)throw new R("No routes found for "+this._fromToken.symbol+" > "+this._toToken.symbol,x.noRoutesFound);return[4,this.hasEnoughAllowanceAndBalance(t,i[0],e)];case 2:return o=r.sent(),this._ethersProvider.provider.network.chainId===F.MAINNET&&this._settings.gasSettings&&o.enoughBalance?[4,this.filterWithTransactionFees(i,o.enoughV2Allowance,o.enoughV3Allowance)]:[3,4];case 3:i=r.sent(),r.label=4;case 4:return[2,{bestRouteQuote:i[0],triedRoutesQuote:i.map(function(s){return{expectedConvertQuote:s.expectedConvertQuote,expectedConvertQuoteOrTokenAmountInMaxWithSlippage:s.expectedConvertQuoteOrTokenAmountInMaxWithSlippage,transaction:s.transaction,tradeExpires:s.tradeExpires,routePathArrayTokenMap:s.routePathArrayTokenMap,routeText:s.routeText,routePathArray:s.routePathArray,uniswapVersion:s.uniswapVersion,liquidityProviderFee:s.liquidityProviderFee,liquidityProviderFeesV3:s.liquidityProviderFeesV3,quoteDirection:s.quoteDirection,gasPriceEstimatedBy:s.gasPriceEstimatedBy}}),hasEnoughBalance:o.enoughBalance,fromBalance:o.fromBalance,toBalance:o.toBalance,hasEnoughAllowance:i[0].uniswapVersion===N.v2?o.enoughV2Allowance:o.enoughV3Allowance}]}})})},n.prototype.generateTradeDeadlineUnixTime=function(){var t=new Date,e=new Date(t.getTime()+this._settings.deadlineMinutes*6e4);return e.getTime()/1e3|0},n.prototype.getEthBalance=function(){return ot(this,void 0,void 0,function(){var t;return at(this,function(e){switch(e.label){case 0:return[4,this._ethersProvider.balanceOf(this._ethereumAddress)];case 1:return t=e.sent(),[2,new M(t).shiftedBy(mn.ETH_MAX_DECIMALS*-1)]}})})},n.prototype.generateTradeDataEthToErc20Input=function(t,e,i,o){var r=e.shiftedBy(this._toToken.decimals).decimalPlaces(0);switch(i.uniswapVersion){case N.v2:return this._uniswapRouterContractFactoryV2.swapExactETHForTokens(ae(r),i.routePathArray.map(function(s){return z(s)}),this._ethereumAddress,o);case N.v3:return this.generateTradeDataForV3Input(Ze(t),r,i,o);default:throw new R("Uniswap version not supported",x.uniswapVersionNotSupported)}},n.prototype.generateTradeDataEthToErc20Output=function(t,e,i,o){var r=e.shiftedBy(this._toToken.decimals).decimalPlaces(0);switch(i.uniswapVersion){case N.v2:return this._uniswapRouterContractFactoryV2.swapETHForExactTokens(ae(r),i.routePathArray.map(function(s){return z(s)}),this._ethereumAddress,o);case N.v3:return this.generateTradeDataForV3Output(r,Ze(t),i,o);default:throw new R("Uniswap version not supported",x.uniswapVersionNotSupported)}},n.prototype.generateTradeDataErc20ToEthInput=function(t,e,i,o){var r=t.shiftedBy(this._fromToken.decimals).decimalPlaces(0);switch(i.uniswapVersion){case N.v2:return this._uniswapRouterContractFactoryV2.swapExactTokensForETH(ae(r),ae(Ze(e)),i.routePathArray.map(function(s){return z(s)}),this._ethereumAddress,o);case N.v3:return this.generateTradeDataForV3Input(r,Ze(e),i,o);default:throw new R("Uniswap version not supported",x.uniswapVersionNotSupported)}},n.prototype.generateTradeDataErc20ToEthOutput=function(t,e,i,o){var r=t.shiftedBy(this._fromToken.decimals).decimalPlaces(0);switch(i.uniswapVersion){case N.v2:return this._uniswapRouterContractFactoryV2.swapTokensForExactETH(ae(Ze(e)),ae(r),i.routePathArray.map(function(s){return z(s)}),this._ethereumAddress,o);case N.v3:return this.generateTradeDataForV3Output(Ze(e),r,i,o);default:throw new R("Uniswap version not supported",x.uniswapVersionNotSupported)}},n.prototype.generateTradeDataErc20ToErc20Input=function(t,e,i,o){var r=t.shiftedBy(this._fromToken.decimals).decimalPlaces(0),s=e.shiftedBy(this._toToken.decimals).decimalPlaces(0);switch(i.uniswapVersion){case N.v2:return this._uniswapRouterContractFactoryV2.swapExactTokensForTokens(ae(r),ae(s),i.routePathArray,this._ethereumAddress,o);case N.v3:return this.generateTradeDataForV3Input(r,s,i,o);default:throw new R("Uniswap version not supported",x.uniswapVersionNotSupported)}},n.prototype.generateTradeDataErc20ToErc20Output=function(t,e,i,o){var r=t.shiftedBy(this._fromToken.decimals).decimalPlaces(0),s=e.shiftedBy(this._toToken.decimals).decimalPlaces(0);switch(i.uniswapVersion){case N.v2:return this._uniswapRouterContractFactoryV2.swapTokensForExactTokens(ae(s),ae(r),i.routePathArray,this._ethereumAddress,o);case N.v3:return this.generateTradeDataForV3Output(s,r,i,o);default:throw new R("Uniswap version not supported",x.uniswapVersionNotSupported)}},n.prototype.generateTradeDataForV3Input=function(t,e,i,o){var r=te(this._toToken.contractAddress),s=i.routePathArray.length==2,u=[];if(s){var l={tokenIn:z(this._fromToken.contractAddress),tokenOut:z(this._toToken.contractAddress),fee:zt(i.liquidityProviderFeesV3[0]),recipient:r===!0?"0x0000000000000000000000000000000000000000":this._ethereumAddress,deadline:o,amountIn:ae(t),amountOutMinimum:ae(e),sqrtPriceLimitX96:0};u.push(this._uniswapRouterContractFactoryV3.exactInputSingle(l))}else{var l={path:this.getEncodedPoolsPath(i.routePathArray.map(function(c){return z(c)}),i.liquidityProviderFeesV3,K.input),recipient:r===!0?"0x0000000000000000000000000000000000000000":this._ethereumAddress,deadline:o,amountIn:ae(t),amountOutMinimum:ae(e)};u.push(this._uniswapRouterContractFactoryV3.exactInput(l))}return te(this._toToken.contractAddress)&&u.push(this._uniswapRouterContractFactoryV3.unwrapWETH9(ae(e),this._ethereumAddress)),this._uniswapRouterContractFactoryV3.multicall(u)},n.prototype.generateTradeDataForV3Output=function(t,e,i,o){var r=te(this._toToken.contractAddress),s=i.routePathArray.length==2,u=[];if(s){var l={tokenIn:z(this._fromToken.contractAddress),tokenOut:z(this._toToken.contractAddress),fee:zt(i.liquidityProviderFee[0]),recipient:r===!0?"0x0000000000000000000000000000000000000000":this._ethereumAddress,deadline:o,amountOut:ae(t),amountInMaximum:ae(e),sqrtPriceLimitX96:0};u.push(this._uniswapRouterContractFactoryV3.exactOutputSingle(l))}else{var l={path:this.getEncodedPoolsPath(i.routePathArray,i.liquidityProviderFeesV3,K.output),recipient:r===!0?"0x0000000000000000000000000000000000000000":this._ethereumAddress,deadline:o,amountOut:ae(t),amountInMaximum:ae(e)};u.push(this._uniswapRouterContractFactoryV3.exactOutput(l))}return te(this._toToken.contractAddress)&&u.push(this._uniswapRouterContractFactoryV3.unwrapWETH9(ae(t),this._ethereumAddress)),this._uniswapRouterContractFactoryV3.multicall(u)},n.prototype.buildUpTransactionErc20=function(t,e){return{to:t===N.v2?pe.v2.getRouterAddress(this._settings.cloneUniswapContractDetails):pe.v3.getRouterAddress(this._settings.cloneUniswapContractDetails),from:this._ethereumAddress,data:e,value:mn.EMPTY_HEX_STRING}},n.prototype.buildUpTransactionEth=function(t,e,i){return{to:t===N.v2?pe.v2.getRouterAddress(this._settings.cloneUniswapContractDetails):pe.v3.getRouterAddress(this._settings.cloneUniswapContractDetails),from:this._ethereumAddress,data:i,value:si(Ze(e)).toHexString()}},n.prototype.getAllowanceAndBalanceForTokens=function(){return ot(this,void 0,void 0,function(){var t,e=this;return at(this,function(i){switch(i.label){case 0:return[4,this._tokensFactory.getAllowanceAndBalanceOfForContracts(this._ethereumAddress,[this._fromToken.contractAddress,this._toToken.contractAddress],!1)];case 1:return t=i.sent(),[2,{fromToken:t.find(function(o){return o.token.contractAddress.toLowerCase()===e._fromToken.contractAddress.toLowerCase()}).allowanceAndBalanceOf,toToken:t.find(function(o){return o.token.contractAddress.toLowerCase()===e._toToken.contractAddress.toLowerCase()}).allowanceAndBalanceOf}]}})})},n.prototype.hasGotEnoughAllowance=function(t,e){if(this.tradePath()===he.ethToErc20)return!0;var i=new M(e).shiftedBy(this._fromToken.decimals*-1);return!new M(t).isGreaterThan(i)},n.prototype.hasEnoughAllowanceAndBalance=function(t,e,i){return ot(this,void 0,void 0,function(){var o,r,s,u,l,a,c,v,O;return at(this,function(A){switch(A.label){case 0:return[4,this.getAllowanceAndBalanceForTokens()];case 1:switch(o=A.sent(),r=!1,s=o.fromToken.balanceOf,u=this.tradePath(),u){case he.ethToErc20:return[3,2];case he.erc20ToErc20:return[3,4];case he.erc20ToEth:return[3,4]}return[3,5];case 2:return[4,this.hasGotEnoughBalanceEth(i===K.input?t.toFixed():e.expectedConvertQuote)];case 3:return l=A.sent(),r=l.hasEnough,s=l.balance,[3,5];case 4:i==K.input?(a=this.hasGotEnoughBalanceErc20(t.toFixed(),o.fromToken.balanceOf),r=a.hasEnough,s=a.balance):(c=this.hasGotEnoughBalanceErc20(e.expectedConvertQuote,o.fromToken.balanceOf),r=c.hasEnough,s=c.balance),A.label=5;case 5:return v=i===K.input?this.hasGotEnoughAllowance(t.toFixed(),o.fromToken.allowanceV2):this.hasGotEnoughAllowance(e.expectedConvertQuote,o.fromToken.allowanceV2),O=i===K.input?this.hasGotEnoughAllowance(t.toFixed(),o.fromToken.allowanceV3):this.hasGotEnoughAllowance(e.expectedConvertQuote,o.fromToken.allowanceV3),[2,{enoughV2Allowance:v,enoughV3Allowance:O,enoughBalance:r,fromBalance:s,toBalance:o.toToken.balanceOf}]}})})},n.prototype.hasGotEnoughBalanceEth=function(t){return ot(this,void 0,void 0,function(){var e;return at(this,function(i){switch(i.label){case 0:return[4,this.getEthBalance()];case 1:return e=i.sent(),new M(t).isGreaterThan(e)?[2,{hasEnough:!1,balance:e.toFixed()}]:[2,{hasEnough:!0,balance:e.toFixed()}]}})})},n.prototype.hasGotEnoughBalanceErc20=function(t,e){var i=new M(e).shiftedBy(this._fromToken.decimals*-1);return new M(t).isGreaterThan(i)?{hasEnough:!1,balance:i.toFixed()}:{hasEnough:!0,balance:i.toFixed()}},n.prototype.filterWithTransactionFees=function(t,e,i){return ot(this,void 0,void 0,function(){var o,r,s,u,l,a,c,v,O,A,S,I,U,j,P,se;return at(this,function(ce){switch(ce.label){case 0:return this._settings.gasSettings&&!this._settings.disableMultihops?(o=$.MAINNET().contractAddress,[4,this._coinGecko.getCoinGeckoFiatPrices([this._toToken.contractAddress,o])]):[3,7];case 1:return r=ce.sent(),s=r[this._toToken.contractAddress],u=r[$.MAINNET().contractAddress],s&&u?(l=this.getBestRouteQuotesHops(t,e,i),[4,this._settings.gasSettings.getGasPrice()]):[3,7];case 2:a=ce.sent(),c=new M(a).times(1e9),O=0,ce.label=3;case 3:return O<l.length?(A=l[O],S=new M(A.expectedConvertQuote).times(s),U=vn,j=M.bind,[4,this._ethersProvider.provider.estimateGas(A.transaction)]):[3,6];case 4:I=U.apply(void 0,[new(j.apply(M,[void 0,ce.sent().toHexString()]))().times(c)]).times(u),A.gasPriceEstimatedBy=a,P=S.minus(I),v?P.isGreaterThan(v.expectedConvertQuoteMinusTxFees)&&(v={routeQuote:l[O],expectedConvertQuoteMinusTxFees:P}):v={routeQuote:l[O],expectedConvertQuoteMinusTxFees:P},ce.label=5;case 5:return O++,[3,3];case 6:v&&(se=t.findIndex(function(le){return le.expectedConvertQuote===v.routeQuote.expectedConvertQuote&&v.routeQuote.routeText===le.routeText}),t.splice(se,1),t.unshift(v.routeQuote)),ce.label=7;case 7:return[2,t]}})})},n.prototype.getBestRouteQuotesHops=function(t,e,i){for(var o=[],r=0;r<t.length&&!(o.find(function(u){return u.routePathArray.length===2})&&o.find(function(u){return u.routePathArray.length===3})&&o.find(function(u){return u.routePathArray.length===4}));r++){var s=t[r];if(s.uniswapVersion===N.v2?e:i){if(s.routePathArray.length===2&&!o.find(function(u){return u.routePathArray.length===2})){o.push(s);continue}if(s.routePathArray.length===3&&!o.find(function(u){return u.routePathArray.length===3})){o.push(s);continue}if(s.routePathArray.length===4&&!o.find(function(u){return u.routePathArray.length===4})){o.push(s);continue}}}return o},n.prototype.workOutAllPossibleRoutes=function(t,e,i){var o=e.pairs.toTokenPairs.filter(function(a){return t.pairs.fromTokenPairs.find(function(c){return c.token.contractAddress.toLowerCase()===a.token.contractAddress.toLowerCase()})}),r=[];t.pairs.fromTokenPairs.find(function(a){return a.token.contractAddress.toLowerCase()===e.token.contractAddress.toLowerCase()})&&r.push({route:[t.token,e.token],liquidityProviderFee:this.LIQUIDITY_PROVIDER_FEE_V2,liquidityProviderFeesV3:[]});for(var s=function(a){var c=i[a];if(o.find(function(S){return S.token.contractAddress.toLowerCase()===c.token.contractAddress.toLowerCase()})){r.push({route:[t.token,c.token,e.token],liquidityProviderFee:u.LIQUIDITY_PROVIDER_FEE_V2,liquidityProviderFeesV3:[]});for(var v=function(S){var I=t.pairs.fromTokenPairs[S].token;if(c.pairs.toTokenPairs.find(function(j){return j.token.contractAddress.toLowerCase()===I.contractAddress.toLowerCase()})){var U=[t.token,I,c.token,e.token];U.filter(Jt).length===U.length&&r.push({route:U,liquidityProviderFee:u.LIQUIDITY_PROVIDER_FEE_V2,liquidityProviderFeesV3:[]})}},O=0;O<t.pairs.fromTokenPairs.length;O++)v(O);for(var A=function(S){var I=e.pairs.toTokenPairs[S].token;if(c.pairs.fromTokenPairs.find(function(j){return j.token.contractAddress.toLowerCase()===I.contractAddress.toLowerCase()})){var U=[t.token,c.token,I,e.token];U.filter(Jt).length===U.length&&r.push({route:U,liquidityProviderFee:u.LIQUIDITY_PROVIDER_FEE_V2,liquidityProviderFeesV3:[]})}},O=0;O<e.pairs.toTokenPairs.length;O++)A(O)}},u=this,l=0;l<i.length;l++)s(l);return r},n.prototype.getTokenAvailablePairs=function(t,e,i){switch(i){case De.from:return this.getFromRouterDirectionAvailablePairs(t,e);case De.to:return this.getToRouterDirectionAvailablePairs(t,e)}},n.prototype.getFromRouterDirectionAvailablePairs=function(t,e){for(var i=e.filter(function(l){return Pe(t.contractAddress,l.reference.split("-")[0])}),o=[],r=function(l){var a=i[l];o.push({token:s.allTokens.find(function(c){return Pe(c.contractAddress,a.reference.split("-")[1])})})},s=this,u=0;u<i.length;u++)r(u);return o},n.prototype.getToRouterDirectionAvailablePairs=function(t,e){for(var i=e.filter(function(l){return Pe(t.contractAddress,l.reference.split("-")[1])}),o=[],r=function(l){var a=i[l];o.push({token:s.allTokens.find(function(c){return Pe(c.contractAddress,a.reference.split("-")[0])})})},s=this,u=0;u<i.length;u++)r(u);return o},n.prototype.workOutAllPossibleRoutesV3=function(t,e,i){var o=e.pairs.toTokenPairs.filter(function(a){return t.pairs.fromTokenPairs.find(function(c){return Pe(c.token.contractAddress,a.token.contractAddress)})}),r=[],s=t.pairs.fromTokenPairs.find(function(a){return Pe(a.token.contractAddress,e.token.contractAddress)});s&&r.push({route:[t.token,e.token],liquidityProviderFee:0,liquidityProviderFeesV3:[et(s.fee)]});for(var u=function(a){var c=i[a];if(o.find(function(U){return Pe(U.token.contractAddress,c.token.contractAddress)})){var v=t.pairs.fromTokenPairs.find(function(U){return Pe(U.token.contractAddress,c.token.contractAddress)}).fee,O=e.pairs.toTokenPairs.find(function(U){return Pe(U.token.contractAddress,c.token.contractAddress)}).fee;r.push({route:[t.token,c.token,e.token],liquidityProviderFee:0,liquidityProviderFeesV3:[et(v),et(O)]});for(var A=function(U){var j=t.pairs.fromTokenPairs[U].token;if(c.pairs.toTokenPairs.find(function(le){return Pe(le.token.contractAddress,j.contractAddress)})){var P=[t.token,j,c.token,e.token];if(P.filter(Jt).length===P.length){var se=t.pairs.fromTokenPairs[U].fee,ce=c.pairs.toTokenPairs.find(function(le){return Pe(le.token.contractAddress,j.contractAddress)}).fee;r.push({route:P,liquidityProviderFee:0,liquidityProviderFeesV3:[et(se),et(ce),et(O)]})}}},S=0;S<t.pairs.fromTokenPairs.length;S++)A(S);for(var I=function(U){var j=e.pairs.toTokenPairs[U].token;if(c.pairs.fromTokenPairs.find(function(le){return le.token.contractAddress.toLowerCase()===j.contractAddress.toLowerCase()})){var P=[t.token,c.token,j,e.token];if(P.filter(Jt).length===P.length){var se=c.pairs.fromTokenPairs.find(function(le){return le.token.contractAddress.toLowerCase()===j.contractAddress.toLowerCase()}).fee,ce=e.pairs.toTokenPairs[U].fee;r.push({route:P,liquidityProviderFee:0,liquidityProviderFeesV3:[et(v),et(se),et(ce)]})}}},S=0;S<e.pairs.toTokenPairs.length;S++)I(S)}},l=0;l<i.length;l++)u(l);return r},n.prototype.getTokenAvailablePairsV3=function(t,e,i){switch(i){case De.from:return this.getFromRouterDirectionAvailablePairsV3(t,e);case De.to:return this.getToRouterDirectionAvailablePairsV3(t,e)}},n.prototype.getFromRouterDirectionAvailablePairsV3=function(t,e){for(var i=[],o=function(u){var l=e[u];Pe(l.reference.split("-")[0],t.contractAddress)&&i.push({token:r.allTokens.find(function(a){return Pe(a.contractAddress,l.reference.split("-")[1])}),fee:parseInt(l.reference.split("-")[3])})},r=this,s=0;s<e.length;s++)o(s);return i},n.prototype.getToRouterDirectionAvailablePairsV3=function(t,e){for(var i=[],o=function(u){var l=e[u];Pe(l.reference.split("-")[1],t.contractAddress)&&i.push({token:r.allTokens.find(function(a){return Pe(a.contractAddress,l.reference.split("-")[0])}),fee:parseInt(l.reference.split("-")[3])})},r=this,s=0;s<e.length;s++)o(s);return i},n.prototype.buildRouteQuotesFromResults=function(t,e,i){var o=this.tradePath(),r=[];for(var s in e.results){var u=e.results[s];if(u)for(var l=0;l<u.callsReturnContext.length;l++){var a=u.callsReturnContext[l];if(!!a.success)switch(o){case he.ethToErc20:r.push(this.buildRouteQuoteForEthToErc20(t,a,u.originalContractCallContext.context[l],i,u.originalContractCallContext.reference));break;case he.erc20ToEth:r.push(this.buildRouteQuoteForErc20ToEth(t,a,u.originalContractCallContext.context[l],i,u.originalContractCallContext.reference));break;case he.erc20ToErc20:r.push(this.buildRouteQuoteForErc20ToErc20(t,a,u.originalContractCallContext.context[l],i,u.originalContractCallContext.reference));break;default:throw new R(o+" not found",x.tradePathIsNotSupported)}}}return i===K.input?r.sort(function(c,v){return new M(c.expectedConvertQuote).isGreaterThan(v.expectedConvertQuote)?-1:new M(c.expectedConvertQuote).isLessThan(v.expectedConvertQuote)?1:0}):r.sort(function(c,v){return new M(c.expectedConvertQuote).isLessThan(v.expectedConvertQuote)?-1:new M(c.expectedConvertQuote).isGreaterThan(v.expectedConvertQuote)?1:0})},n.prototype.buildRouteQuoteForErc20ToErc20=function(t,e,i,o,r){var s=this,u=this.getConvertQuoteUnformatted(e,o,r),l=o===K.input?u.shiftedBy(this._toToken.decimals*-1).toFixed(this._toToken.decimals):u.shiftedBy(this._fromToken.decimals*-1).toFixed(this._fromToken.decimals),a=this.getExpectedConvertQuoteOrTokenAmountInMaxWithSlippage(l,o,r),c=this.generateTradeDeadlineUnixTime(),v=r===N.v2?e.methodParameters[1]:i.route.map(function(I){return I.contractAddress}),O={uniswapVersion:r,liquidityProviderFee:i.liquidityProviderFee,liquidityProviderFeesV3:i.liquidityProviderFeesV3,routePathArray:v},A=o===K.input?this.generateTradeDataErc20ToErc20Input(t,new M(a),O,c.toString()):this.generateTradeDataErc20ToErc20Output(new M(a),t,O,c.toString()),S=this.buildUpTransactionErc20(r,A);switch(r){case N.v2:case N.v3:return{expectedConvertQuote:l,expectedConvertQuoteOrTokenAmountInMaxWithSlippage:a,transaction:S,tradeExpires:c,routePathArrayTokenMap:v.map(function(I){return s.allTokens.find(function(U){return U.contractAddress===I})}),routeText:v.map(function(I){return s.allTokens.find(function(U){return U.contractAddress===I}).symbol}).join(" > "),routePathArray:v,uniswapVersion:r,liquidityProviderFee:r===N.v2?i.liquidityProviderFee:0,liquidityProviderFeesV3:i.liquidityProviderFeesV3,quoteDirection:o};default:throw new R("Invalid uniswap version",r)}},n.prototype.buildRouteQuoteForEthToErc20=function(t,e,i,o,r){var s=this,u=this.getConvertQuoteUnformatted(e,o,r),l=o===K.input?u.shiftedBy(this._toToken.decimals*-1).toFixed(this._toToken.decimals):new M(vn(u)).toFixed(this._fromToken.decimals),a=this.getExpectedConvertQuoteOrTokenAmountInMaxWithSlippage(l,o,r),c=this.generateTradeDeadlineUnixTime(),v=r===N.v2?e.methodParameters[1]:i.route.map(function(I){return I.contractAddress}),O={uniswapVersion:r,liquidityProviderFee:i.liquidityProviderFee,liquidityProviderFeesV3:i.liquidityProviderFeesV3,routePathArray:v},A=o===K.input?this.generateTradeDataEthToErc20Input(t,new M(a),O,c.toString()):this.generateTradeDataEthToErc20Output(new M(a),t,O,c.toString()),S=this.buildUpTransactionEth(r,o===K.input?t:new M(l),A);switch(r){case N.v2:case N.v3:return{expectedConvertQuote:l,expectedConvertQuoteOrTokenAmountInMaxWithSlippage:a,transaction:S,tradeExpires:c,routePathArrayTokenMap:v.map(function(I,U){var j,P,se=ee(s.allTokens.find(function(ce){return ce.contractAddress===I}));return U===0?Ge(se,(P=(j=s._settings)===null||j===void 0?void 0:j.customNetwork)===null||P===void 0?void 0:P.nativeCurrency):se}),routeText:v.map(function(I,U){return U===0?s.getNativeTokenSymbol():s.allTokens.find(function(j){return j.contractAddress===I}).symbol}).join(" > "),routePathArray:v,uniswapVersion:r,liquidityProviderFee:r===N.v2?i.liquidityProviderFee:0,liquidityProviderFeesV3:i.liquidityProviderFeesV3,quoteDirection:o};default:throw new R("Invalid uniswap version",r)}},n.prototype.buildRouteQuoteForErc20ToEth=function(t,e,i,o,r){var s=this,u=this.getConvertQuoteUnformatted(e,o,r),l=o===K.input?new M(vn(u)).toFixed(this._toToken.decimals):u.shiftedBy(this._fromToken.decimals*-1).toFixed(this._fromToken.decimals),a=this.getExpectedConvertQuoteOrTokenAmountInMaxWithSlippage(l,o,r),c=this.generateTradeDeadlineUnixTime(),v=r===N.v2?e.methodParameters[1]:i.route.map(function(I){return I.contractAddress}),O={uniswapVersion:r,liquidityProviderFee:i.liquidityProviderFee,liquidityProviderFeesV3:i.liquidityProviderFeesV3,routePathArray:v},A=o===K.input?this.generateTradeDataErc20ToEthInput(t,new M(a),O,c.toString()):this.generateTradeDataErc20ToEthOutput(new M(a),t,O,c.toString()),S=this.buildUpTransactionErc20(r,A);switch(r){case N.v2:case N.v3:return{expectedConvertQuote:l,expectedConvertQuoteOrTokenAmountInMaxWithSlippage:a,transaction:S,tradeExpires:c,routePathArrayTokenMap:v.map(function(I,U){var j,P,se=ee(s.allTokens.find(function(ce){return ce.contractAddress===I}));return U===v.length-1?Ge(se,(P=(j=s._settings)===null||j===void 0?void 0:j.customNetwork)===null||P===void 0?void 0:P.nativeCurrency):se}),routeText:v.map(function(I,U){return U===v.length-1?s.getNativeTokenSymbol():s.allTokens.find(function(j){return j.contractAddress===I}).symbol}).join(" > "),routePathArray:v,uniswapVersion:r,liquidityProviderFee:r===N.v2?i.liquidityProviderFee:0,liquidityProviderFeesV3:i.liquidityProviderFeesV3,quoteDirection:o};default:throw new R("Invalid uniswap version",r)}},n.prototype.getConvertQuoteUnformatted=function(t,e,i){switch(i){case N.v2:return e===K.input?new M(t.returnValues[t.returnValues.length-1].hex):new M(t.returnValues[0].hex);case N.v3:return new M(t.returnValues[0].hex);default:throw new R("Invalid uniswap version",i)}},n.prototype.getExpectedConvertQuoteOrTokenAmountInMaxWithSlippage=function(t,e,i){var o=e===K.input?this._toToken.decimals:this._fromToken.decimals;return e===K.output&&i===N.v3?new M(t).plus(new M(t).times(this._settings.slippage).toFixed(o)).toFixed(o):new M(t).minus(new M(t).times(this._settings.slippage).toFixed(o)).toFixed(o)},n.prototype.formatAmountToTrade=function(t,e){switch(this.tradePath()){case he.ethToErc20:if(e==K.input){var i=Ze(t);return ae(i)}else return ae(t.shiftedBy(this._toToken.decimals));case he.erc20ToEth:if(e==K.input)return ae(t.shiftedBy(this._fromToken.decimals));var i=Ze(t);return ae(i);case he.erc20ToErc20:return e==K.input?ae(t.shiftedBy(this._fromToken.decimals)):ae(t.shiftedBy(this._toToken.decimals));default:throw new R("Internal trade path "+this.tradePath()+" is not supported",x.tradePathIsNotSupported)}},n.prototype.getEncodedPoolsPath=function(t,e,i){if(t.length<2||t.length-e.length!=1)throw new R("Invalid V3 Route",x.tradePathIsNotSupported);for(var o=i==K.input?t:ee(t).reverse(),r=i==K.input?e:ee(e).reverse(),s=o[0],u=s.slice(2).toLowerCase(),l=0;l<r.length;l++)u+=zt(r[l]).toString(16).padStart(6,"0"),u+=o[l+1].slice(2).toLowerCase();return"0x"+u},n.prototype.tradePath=function(){var t,e=this._ethersProvider.network();return nr(e.chainId,this._fromToken,this._toToken,(t=this._settings.customNetwork)===null||t===void 0?void 0:t.nativeWrappedTokenInfo)},Object.defineProperty(n.prototype,"allTokens",{get:function(){return ui([this._fromToken,this._toToken],this.allMainTokens)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"allMainTokens",{get:function(){if(this._ethersProvider.provider.network.chainId===F.MAINNET||this._settings.customNetwork){var t=[this.USDTTokenForConnectedNetwork,this.COMPTokenForConnectedNetwork,this.USDCTokenForConnectedNetwork,this.DAITokenForConnectedNetwork,this.WETHTokenForConnectedNetwork,this.WBTCTokenForConnectedNetwork];return t.filter(function(e){return e!==void 0})}return[this.WETHTokenForConnectedNetwork]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mainCurrenciesPairsForFromToken",{get:function(){if(this._ethersProvider.provider.network.chainId===F.MAINNET||this._settings.customNetwork){var t=[[this._fromToken,this.USDTTokenForConnectedNetwork],[this._fromToken,this.COMPTokenForConnectedNetwork],[this._fromToken,this.USDCTokenForConnectedNetwork],[this._fromToken,this.DAITokenForConnectedNetwork],[this._fromToken,this.WBTCTokenForConnectedNetwork]];return!te(this._fromToken.contractAddress)&&!te(this._toToken.contractAddress)&&t.push([this._fromToken,this.WETHTokenForConnectedNetwork]),this.filterUndefinedTokens(t).filter(function(i){return i[0].contractAddress!==i[1].contractAddress})}var e=[[this._fromToken,this.WETHTokenForConnectedNetwork]];return e.filter(function(i){return i[0].contractAddress!==i[1].contractAddress})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mainCurrenciesPairsForToToken",{get:function(){if(this._ethersProvider.provider.network.chainId===F.MAINNET||this._settings.customNetwork){var t=[[this.USDTTokenForConnectedNetwork,this._toToken],[this.COMPTokenForConnectedNetwork,this._toToken],[this.USDCTokenForConnectedNetwork,this._toToken],[this.DAITokenForConnectedNetwork,this._toToken],[this.WBTCTokenForConnectedNetwork,this._toToken]];return!te(this._toToken.contractAddress)&&!te(this._toToken.contractAddress)&&t.push([this.WETHTokenForConnectedNetwork,this._toToken]),this.filterUndefinedTokens(t).filter(function(i){return i[0].contractAddress!==i[1].contractAddress})}var e=[[this.WETHTokenForConnectedNetwork,this._toToken]];return e.filter(function(i){return i[0].contractAddress!==i[1].contractAddress})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mainCurrenciesPairsForUSDT",{get:function(){if(this._ethersProvider.provider.network.chainId===F.MAINNET||this._settings.customNetwork){var t=[[this.USDTTokenForConnectedNetwork,this.COMPTokenForConnectedNetwork],[this.USDTTokenForConnectedNetwork,this.DAITokenForConnectedNetwork],[this.USDTTokenForConnectedNetwork,this.USDCTokenForConnectedNetwork],[this.USDTTokenForConnectedNetwork,this.WBTCTokenForConnectedNetwork]];return!te(this._fromToken.contractAddress)&&!te(this._toToken.contractAddress)&&t.push([this.USDTTokenForConnectedNetwork,this.WETHTokenForConnectedNetwork]),this.filterUndefinedTokens(t)}return[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mainCurrenciesPairsForCOMP",{get:function(){if(this._ethersProvider.provider.network.chainId===F.MAINNET||this._settings.customNetwork){var t=[[this.COMPTokenForConnectedNetwork,this.USDTTokenForConnectedNetwork],[this.COMPTokenForConnectedNetwork,this.DAITokenForConnectedNetwork],[this.COMPTokenForConnectedNetwork,this.USDCTokenForConnectedNetwork]];return!te(this._fromToken.contractAddress)&&!te(this._toToken.contractAddress)&&t.push([this.COMPTokenForConnectedNetwork,this.WETHTokenForConnectedNetwork]),this.filterUndefinedTokens(t)}return[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mainCurrenciesPairsForDAI",{get:function(){if(this._ethersProvider.provider.network.chainId===F.MAINNET||this._settings.customNetwork){var t=[[this.DAITokenForConnectedNetwork,this.COMPTokenForConnectedNetwork],[this.DAITokenForConnectedNetwork,this.WBTCTokenForConnectedNetwork],[this.DAITokenForConnectedNetwork,this.USDTTokenForConnectedNetwork],[this.DAITokenForConnectedNetwork,this.USDCTokenForConnectedNetwork]];return!te(this._fromToken.contractAddress)&&!te(this._toToken.contractAddress)&&t.push([this.DAITokenForConnectedNetwork,this.WETHTokenForConnectedNetwork]),this.filterUndefinedTokens(t)}return[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mainCurrenciesPairsForUSDC",{get:function(){if(this._ethersProvider.provider.network.chainId===F.MAINNET||this._settings.customNetwork){var t=[[this.USDCTokenForConnectedNetwork,this.USDTTokenForConnectedNetwork],[this.USDCTokenForConnectedNetwork,this.COMPTokenForConnectedNetwork],[this.USDCTokenForConnectedNetwork,this.DAITokenForConnectedNetwork],[this.USDCTokenForConnectedNetwork,this.WBTCTokenForConnectedNetwork]];return!te(this._fromToken.contractAddress)&&!te(this._toToken.contractAddress)&&t.push([this.USDCTokenForConnectedNetwork,this.WETHTokenForConnectedNetwork]),this.filterUndefinedTokens(t)}return[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mainCurrenciesPairsForWBTC",{get:function(){if(this._ethersProvider.provider.network.chainId===F.MAINNET||this._settings.customNetwork){var t=[[this.WBTCTokenForConnectedNetwork,this.USDTTokenForConnectedNetwork],[this.WBTCTokenForConnectedNetwork,this.DAITokenForConnectedNetwork],[this.WBTCTokenForConnectedNetwork,this.USDCTokenForConnectedNetwork],[this.WBTCTokenForConnectedNetwork,this.WETHTokenForConnectedNetwork]];return this.filterUndefinedTokens(t)}return[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"mainCurrenciesPairsForWETH",{get:function(){if(this._ethersProvider.provider.network.chainId===F.MAINNET||this._settings.customNetwork){var t=[[this.WETHTokenForConnectedNetwork,this.USDTTokenForConnectedNetwork],[this.WETHTokenForConnectedNetwork,this.COMPTokenForConnectedNetwork],[this.WETHTokenForConnectedNetwork,this.DAITokenForConnectedNetwork],[this.WETHTokenForConnectedNetwork,this.USDCTokenForConnectedNetwork],[this.WETHTokenForConnectedNetwork,this.WBTCTokenForConnectedNetwork]];return this.filterUndefinedTokens(t)}return[]},enumerable:!1,configurable:!0}),n.prototype.filterUndefinedTokens=function(t){return t.filter(function(e){return e[0]!==void 0&&e[1]!==void 0})},Object.defineProperty(n.prototype,"USDTTokenForConnectedNetwork",{get:function(){var t;return this._settings.customNetwork?(t=this._settings.customNetwork.baseTokens)===null||t===void 0?void 0:t.usdt:q.token(this._ethersProvider.provider.network.chainId)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"COMPTokenForConnectedNetwork",{get:function(){var t;return this._settings.customNetwork?(t=this._settings.customNetwork.baseTokens)===null||t===void 0?void 0:t.comp:Ue.token(this._ethersProvider.provider.network.chainId)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DAITokenForConnectedNetwork",{get:function(){var t;return this._settings.customNetwork?(t=this._settings.customNetwork.baseTokens)===null||t===void 0?void 0:t.dai:xe.token(this._ethersProvider.provider.network.chainId)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"USDCTokenForConnectedNetwork",{get:function(){var t;return this._settings.customNetwork?(t=this._settings.customNetwork.baseTokens)===null||t===void 0?void 0:t.usdc:Y.token(this._ethersProvider.provider.network.chainId)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"WETHTokenForConnectedNetwork",{get:function(){return this._settings.customNetwork?this._settings.customNetwork.nativeWrappedTokenInfo:$.token(this._ethersProvider.provider.network.chainId)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"WBTCTokenForConnectedNetwork",{get:function(){var t;return this._settings.customNetwork?(t=this._settings.customNetwork.baseTokens)===null||t===void 0?void 0:t.wbtc:ai.token(this._ethersProvider.provider.network.chainId)},enumerable:!1,configurable:!0}),n.prototype.getNativeTokenSymbol=function(){return this._settings.customNetwork?this._settings.customNetwork.nativeCurrency.symbol:je},n}(),Ct=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},Ft=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Tn=function(){function n(t,e,i,o){var r;this._tokenContractAddress=t,this._ethersProvider=e,this._customNetwork=i,this._cloneUniswapContractDetails=o,this._multicall=new ln(this._ethersProvider.provider,(r=this._customNetwork)===null||r===void 0?void 0:r.multicallContractAddress),this._erc20TokenContract=this._ethersProvider.getContract(JSON.stringify(kt.erc20Abi),ge(this._tokenContractAddress))}return n.prototype.getToken=function(){var t;return Ct(this,void 0,void 0,function(){var e,i,o,r,s,u,l;return Ft(this,function(a){switch(a.label){case 0:return te(this._tokenContractAddress)?[2,X.info(this._ethersProvider.network().chainId,(t=this._customNetwork)===null||t===void 0?void 0:t.nativeWrappedTokenInfo)]:[3,1];case 1:return e=sn(this._tokenContractAddress),e?[2,e]:(i=0,o=1,r=2,s={reference:"token",contractAddress:ge(this._tokenContractAddress),abi:kt.erc20Abi,calls:[{reference:"symbol",methodName:"symbol",methodParameters:[]},{reference:"decimals",methodName:"decimals",methodParameters:[]},{reference:"name",methodName:"name",methodParameters:[]}]},[4,this._multicall.call(s)]);case 2:return u=a.sent(),l=u.results[s.reference],[2,{chainId:this._ethersProvider.network().chainId,contractAddress:l.originalContractCallContext.contractAddress,symbol:l.callsReturnContext[i].returnValues[0],decimals:l.callsReturnContext[o].returnValues[0],name:l.callsReturnContext[r].returnValues[0]}]}})})},n.prototype.allowance=function(t,e){return Ct(this,void 0,void 0,function(){var i;return Ft(this,function(o){switch(o.label){case 0:return te(this._tokenContractAddress)?[2,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"]:[3,1];case 1:return[4,this._erc20TokenContract.allowance(e,t===N.v2?pe.v2.getRouterAddress(this._cloneUniswapContractDetails):pe.v3.getRouterAddress(this._cloneUniswapContractDetails))];case 2:return i=o.sent(),[2,i.toHexString()]}})})},n.prototype.generateApproveAllowanceData=function(t,e){if(te(this._tokenContractAddress))throw new Error("ETH does not need any allowance data");return this._erc20TokenContract.interface.encodeFunctionData("approve",[t,e])},n.prototype.balanceOf=function(t){return Ct(this,void 0,void 0,function(){var e;return Ft(this,function(i){switch(i.label){case 0:return te(this._tokenContractAddress)?[4,this._ethersProvider.balanceOf(t)]:[3,2];case 1:return[2,i.sent()];case 2:return[4,this._erc20TokenContract.balanceOf(t)];case 3:return e=i.sent(),[2,e.toHexString()]}})})},n.prototype.totalSupply=function(){return Ct(this,void 0,void 0,function(){var t;return Ft(this,function(e){switch(e.label){case 0:return[4,this._erc20TokenContract.totalSupply()];case 1:return t=e.sent(),[2,t.toHexString()]}})})},n.prototype.getAllowanceAndBalanceOf=function(t){return Ct(this,void 0,void 0,function(){var e,i,o,r,s,u,l;return Ft(this,function(a){switch(a.label){case 0:return te(this._tokenContractAddress)?(l={allowanceV2:"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",allowanceV3:"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"},[4,this.balanceOf(t)]):[3,2];case 1:return[2,(l.balanceOf=a.sent(),l)];case 2:return e=0,i=1,o=[],o.push(this.buildAllowanceAndBalanceContractCallContext(t,N.v2)),o.push(this.buildAllowanceAndBalanceContractCallContext(t,N.v3)),[4,this._multicall.call(o)];case 3:return r=a.sent(),s=r.results[N.v2],u=r.results[N.v3],[2,{allowanceV2:Ne.O$.from(s.callsReturnContext[e].returnValues[0]).toHexString(),allowanceV3:Ne.O$.from(u.callsReturnContext[e].returnValues[0]).toHexString(),balanceOf:Ne.O$.from(s.callsReturnContext[i].returnValues[0]).toHexString()}]}})})},n.prototype.buildAllowanceAndBalanceContractCallContext=function(t,e){return{reference:e,contractAddress:ge(this._tokenContractAddress),abi:kt.erc20Abi,calls:[{reference:"allowance",methodName:"allowance",methodParameters:[t,e===N.v2?pe.v2.getRouterAddress(this._cloneUniswapContractDetails):pe.v3.getRouterAddress(this._cloneUniswapContractDetails)]},{reference:"balanceOf",methodName:"balanceOf",methodParameters:[t]}]}},n}(),Ce=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},Fe=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},li=function(){function n(t,e){this._coinGecko=t,this._uniswapPairFactoryContext=e,this._fromTokenFactory=new Tn(this._uniswapPairFactoryContext.fromToken.contractAddress,this._uniswapPairFactoryContext.ethersProvider,this._uniswapPairFactoryContext.settings.customNetwork,this._uniswapPairFactoryContext.settings.cloneUniswapContractDetails),this._toTokenFactory=new Tn(this._uniswapPairFactoryContext.toToken.contractAddress,this._uniswapPairFactoryContext.ethersProvider,this._uniswapPairFactoryContext.settings.customNetwork),this._uniswapRouterFactory=new ci(this._coinGecko,this._uniswapPairFactoryContext.ethereumAddress,this._uniswapPairFactoryContext.fromToken,this._uniswapPairFactoryContext.toToken,this._uniswapPairFactoryContext.settings,this._uniswapPairFactoryContext.ethersProvider),this._watchingBlocks=!1,this._quoteChanged$=new er}return Object.defineProperty(n.prototype,"toToken",{get:function(){return this._uniswapPairFactoryContext.toToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fromToken",{get:function(){return this._uniswapPairFactoryContext.fromToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"providerUrl",{get:function(){return this._uniswapPairFactoryContext.ethersProvider.getProviderUrl()},enumerable:!1,configurable:!0}),n.prototype.getFromTokenBalance=function(){return Ce(this,void 0,void 0,function(){var t,e;return Fe(this,function(i){switch(i.label){case 0:return this.tradePath()!==he.ethToErc20?[3,2]:[4,this._uniswapRouterFactory.getEthBalance()];case 1:return t=i.sent(),[2,t.toFixed()];case 2:return[4,this._fromTokenFactory.balanceOf(this._uniswapPairFactoryContext.ethereumAddress)];case 3:return e=i.sent(),[2,new M(e).shiftedBy(this.fromToken.decimals*-1).toFixed()]}})})},n.prototype.getToTokenBalance=function(){return Ce(this,void 0,void 0,function(){var t,e;return Fe(this,function(i){switch(i.label){case 0:return this.tradePath()!==he.erc20ToEth?[3,2]:[4,this._uniswapRouterFactory.getEthBalance()];case 1:return t=i.sent(),[2,t.toFixed()];case 2:return[4,this._toTokenFactory.balanceOf(this._uniswapPairFactoryContext.ethereumAddress)];case 3:return e=i.sent(),[2,new M(e).shiftedBy(this.toToken.decimals*-1).toFixed()]}})})},n.prototype.executeTradePath=function(t,e){return Ce(this,void 0,void 0,function(){var i;return Fe(this,function(o){switch(o.label){case 0:switch(i=this.tradePath(),i){case he.erc20ToEth:return[3,1];case he.ethToErc20:return[3,3];case he.erc20ToErc20:return[3,5]}return[3,7];case 1:return[4,this.findBestPriceAndPathErc20ToEth(t,e)];case 2:return[2,o.sent()];case 3:return[4,this.findBestPriceAndPathEthToErc20(t,e)];case 4:return[2,o.sent()];case 5:return[4,this.findBestPriceAndPathErc20ToErc20(t,e)];case 6:return[2,o.sent()];case 7:throw new R(this.tradePath()+" is not defined",x.tradePathIsNotSupported)}})})},n.prototype.destroy=function(){for(var t=0;t<this._quoteChanged$.observers.length;t++)this._quoteChanged$.observers[t].complete();this.unwatchTradePrice()},n.prototype.trade=function(t,e){return e===void 0&&(e=K.input),Ce(this,void 0,void 0,function(){var i;return Fe(this,function(o){switch(o.label){case 0:return this.destroy(),[4,this.executeTradePath(new M(t),e)];case 1:return i=o.sent(),this._currentTradeContext=this.buildCurrentTradeContext(i),this.watchTradePrice(),[2,i]}})})},n.prototype.findBestRoute=function(t,e){return Ce(this,void 0,void 0,function(){return Fe(this,function(i){switch(i.label){case 0:return[4,this._routes.findBestRoute(new M(t),e)];case 1:return[2,i.sent()]}})})},n.prototype.findAllPossibleRoutesWithQuote=function(t,e){return Ce(this,void 0,void 0,function(){return Fe(this,function(i){switch(i.label){case 0:return[4,this._routes.getAllPossibleRoutesWithQuotes(new M(t),e)];case 1:return[2,i.sent()]}})})},n.prototype.findAllPossibleRoutes=function(){return Ce(this,void 0,void 0,function(){return Fe(this,function(t){switch(t.label){case 0:return[4,this._routes.getAllPossibleRoutes()];case 1:return[2,t.sent()]}})})},n.prototype.getAllowanceAndBalanceOfForFromToken=function(){return Ce(this,void 0,void 0,function(){return Fe(this,function(t){switch(t.label){case 0:return[4,this._fromTokenFactory.getAllowanceAndBalanceOf(this._uniswapPairFactoryContext.ethereumAddress)];case 1:return[2,t.sent()]}})})},n.prototype.getAllowanceAndBalanceOfForToToken=function(){return Ce(this,void 0,void 0,function(){return Fe(this,function(t){switch(t.label){case 0:return[4,this._toTokenFactory.getAllowanceAndBalanceOf(this._uniswapPairFactoryContext.ethereumAddress)];case 1:return[2,t.sent()]}})})},n.prototype.allowance=function(t){return Ce(this,void 0,void 0,function(){var e;return Fe(this,function(i){switch(i.label){case 0:return this.tradePath()===he.ethToErc20?[2,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"]:[4,this._fromTokenFactory.allowance(t,this._uniswapPairFactoryContext.ethereumAddress)];case 1:return e=i.sent(),[2,e]}})})},n.prototype.generateApproveMaxAllowanceData=function(t){return Ce(this,void 0,void 0,function(){var e;return Fe(this,function(i){if(this.tradePath()===he.ethToErc20)throw new R("You do not need to generate approve uniswap allowance when doing eth > erc20",x.generateApproveMaxAllowanceDataNotAllowed);return e=this._fromTokenFactory.generateApproveAllowanceData(t===N.v2?pe.v2.getRouterAddress(this._uniswapPairFactoryContext.settings.cloneUniswapContractDetails):pe.v3.getRouterAddress(this._uniswapPairFactoryContext.settings.cloneUniswapContractDetails),"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),[2,{to:this.fromToken.contractAddress,from:this._uniswapPairFactoryContext.ethereumAddress,data:e,value:mn.EMPTY_HEX_STRING}]})})},Object.defineProperty(n.prototype,"_routes",{get:function(){return this._uniswapRouterFactory},enumerable:!1,configurable:!0}),n.prototype.buildCurrentTradeContext=function(t){return ee({baseConvertRequest:t.baseConvertRequest,expectedConvertQuote:t.expectedConvertQuote,quoteDirection:t.quoteDirection,fromToken:t.fromToken,toToken:t.toToken,liquidityProviderFee:t.liquidityProviderFee,liquidityProviderFeesV3:t.liquidityProviderFeesV3,transaction:t.transaction,routeText:t.routeText,tradeExpires:t.tradeExpires})},n.prototype.findBestPriceAndPathErc20ToEth=function(t,e){var i,o;return Ce(this,void 0,void 0,function(){var r,s,u,l,a,c=this;return Fe(this,function(v){switch(v.label){case 0:return[4,this._routes.findBestRoute(t,e)];case 1:return r=v.sent(),s=r.bestRouteQuote,a={uniswapVersion:s.uniswapVersion,quoteDirection:e,baseConvertRequest:t.toFixed(),minAmountConvertQuote:e===K.input?s.expectedConvertQuoteOrTokenAmountInMaxWithSlippage:null,maximumSent:e===K.input?null:s.expectedConvertQuoteOrTokenAmountInMaxWithSlippage,expectedConvertQuote:s.expectedConvertQuote,liquidityProviderFee:e===K.input?t.times(s.uniswapVersion===N.v3?0:s.liquidityProviderFee).toFixed(this.fromToken.decimals):new M(s.expectedConvertQuote).times(s.uniswapVersion===N.v3?0:s.liquidityProviderFee).toFixed(this.fromToken.decimals),liquidityProviderFeePercent:s.liquidityProviderFee,liquidityProviderFeesV3:s.liquidityProviderFeesV3.map(function(O){return e===K.input?t.times(O).toFixed(c.fromToken.decimals):new M(s.expectedConvertQuote).times(O).toFixed(c.fromToken.decimals)}),liquidityProviderFeePercentsV3:s.liquidityProviderFeesV3,tradeExpires:s.tradeExpires,routePathTokenMap:s.routePathArrayTokenMap,routeText:s.routeText,routePath:s.routePathArray.map(function(O){return z(O)}),hasEnoughAllowance:r.hasEnoughAllowance},r.hasEnoughAllowance?[3,3]:[4,this.generateApproveMaxAllowanceData(s.uniswapVersion)];case 2:return l=v.sent(),[3,4];case 3:l=void 0,v.label=4;case 4:return u=(a.approvalTransaction=l,a.toToken=Ge(this.toToken,(o=(i=this._uniswapPairFactoryContext.settings)===null||i===void 0?void 0:i.customNetwork)===null||o===void 0?void 0:o.nativeCurrency),a.toBalance=new M(r.toBalance).shiftedBy(this.toToken.decimals*-1).toFixed(),a.fromToken=this.fromToken,a.fromBalance={hasEnough:r.hasEnoughBalance,balance:r.fromBalance},a.transaction=s.transaction,a.gasPriceEstimatedBy=s.gasPriceEstimatedBy,a.allTriedRoutesQuotes=r.triedRoutesQuote,a.quoteChanged$=this._quoteChanged$,a.destroy=function(){return c.destroy()},a),[2,u]}})})},n.prototype.findBestPriceAndPathErc20ToErc20=function(t,e){return Ce(this,void 0,void 0,function(){var i,o,r,s,u,l=this;return Fe(this,function(a){switch(a.label){case 0:return[4,this._routes.findBestRoute(t,e)];case 1:return i=a.sent(),o=i.bestRouteQuote,u={uniswapVersion:o.uniswapVersion,quoteDirection:e,baseConvertRequest:t.toFixed(),minAmountConvertQuote:e===K.input?o.expectedConvertQuoteOrTokenAmountInMaxWithSlippage:null,maximumSent:e===K.input?null:o.expectedConvertQuoteOrTokenAmountInMaxWithSlippage,expectedConvertQuote:o.expectedConvertQuote,liquidityProviderFee:e===K.input?t.times(o.uniswapVersion===N.v3?0:o.liquidityProviderFee).toFixed(this.fromToken.decimals):new M(o.expectedConvertQuote).times(o.uniswapVersion===N.v3?0:o.liquidityProviderFee).toFixed(this.fromToken.decimals),liquidityProviderFeePercent:o.liquidityProviderFee,liquidityProviderFeesV3:o.liquidityProviderFeesV3.map(function(c){return e===K.input?t.times(c).toFixed(l.fromToken.decimals):new M(o.expectedConvertQuote).times(c).toFixed(l.fromToken.decimals)}),liquidityProviderFeePercentsV3:o.liquidityProviderFeesV3,tradeExpires:o.tradeExpires,routePathTokenMap:o.routePathArrayTokenMap,routeText:o.routeText,routePath:o.routePathArray,hasEnoughAllowance:i.hasEnoughAllowance},i.hasEnoughAllowance?[3,3]:[4,this.generateApproveMaxAllowanceData(o.uniswapVersion)];case 2:return s=a.sent(),[3,4];case 3:s=void 0,a.label=4;case 4:return r=(u.approvalTransaction=s,u.toToken=this.toToken,u.toBalance=new M(i.toBalance).shiftedBy(this.toToken.decimals*-1).toFixed(),u.fromToken=this.fromToken,u.fromBalance={hasEnough:i.hasEnoughBalance,balance:i.fromBalance},u.transaction=o.transaction,u.gasPriceEstimatedBy=o.gasPriceEstimatedBy,u.allTriedRoutesQuotes=i.triedRoutesQuote,u.quoteChanged$=this._quoteChanged$,u.destroy=function(){return l.destroy()},u),[2,r]}})})},n.prototype.findBestPriceAndPathEthToErc20=function(t,e){var i,o;return Ce(this,void 0,void 0,function(){var r,s,u,l=this;return Fe(this,function(a){switch(a.label){case 0:return[4,this._routes.findBestRoute(t,e)];case 1:return r=a.sent(),s=r.bestRouteQuote,u={uniswapVersion:s.uniswapVersion,quoteDirection:e,baseConvertRequest:t.toFixed(),minAmountConvertQuote:e===K.input?s.expectedConvertQuoteOrTokenAmountInMaxWithSlippage:null,maximumSent:e===K.input?null:s.expectedConvertQuoteOrTokenAmountInMaxWithSlippage,expectedConvertQuote:s.expectedConvertQuote,liquidityProviderFee:e===K.input?t.times(s.uniswapVersion===N.v3?0:s.liquidityProviderFee).toFixed(this.fromToken.decimals):new M(s.expectedConvertQuote).times(s.uniswapVersion===N.v3?0:s.liquidityProviderFee).toFixed(this.fromToken.decimals),liquidityProviderFeePercent:s.liquidityProviderFee,liquidityProviderFeesV3:s.liquidityProviderFeesV3.map(function(c){return e===K.input?t.times(c).toFixed(l.fromToken.decimals):new M(s.expectedConvertQuote).times(c).toFixed(l.fromToken.decimals)}),liquidityProviderFeePercentsV3:s.liquidityProviderFeesV3,tradeExpires:s.tradeExpires,routePathTokenMap:s.routePathArrayTokenMap,routeText:s.routeText,routePath:s.routePathArray.map(function(c){return z(c)}),hasEnoughAllowance:!0,toToken:this.toToken,toBalance:new M(r.toBalance).shiftedBy(this.toToken.decimals*-1).toFixed(),fromToken:Ge(this.fromToken,(o=(i=this._uniswapPairFactoryContext.settings)===null||i===void 0?void 0:i.customNetwork)===null||o===void 0?void 0:o.nativeCurrency),fromBalance:{hasEnough:r.hasEnoughBalance,balance:r.fromBalance},transaction:s.transaction,gasPriceEstimatedBy:s.gasPriceEstimatedBy,allTriedRoutesQuotes:r.triedRoutesQuote,quoteChanged$:this._quoteChanged$,destroy:function(){return l.destroy()}},[2,u]}})})},n.prototype.tradePath=function(){var t,e=this._uniswapPairFactoryContext.ethersProvider.network();return nr(e.chainId,this.fromToken,this.toToken,(t=this._uniswapPairFactoryContext.settings.customNetwork)===null||t===void 0?void 0:t.nativeWrappedTokenInfo)},n.prototype.watchTradePrice=function(){var t=this;this._watchingBlocks||(this._uniswapPairFactoryContext.ethersProvider.provider.on("block",function(){return Ce(t,void 0,void 0,function(){return Fe(this,function(e){switch(e.label){case 0:return[4,this.handleNewBlock()];case 1:return e.sent(),[2]}})})}),this._watchingBlocks=!0)},n.prototype.unwatchTradePrice=function(){this._uniswapPairFactoryContext.ethersProvider.provider.removeAllListeners("block"),this._watchingBlocks=!1},n.prototype.handleNewBlock=function(){return Ce(this,void 0,void 0,function(){var t;return Fe(this,function(e){switch(e.label){case 0:return this._quoteChanged$.observers.length>0&&this._currentTradeContext?[4,this.executeTradePath(new M(this._currentTradeContext.baseConvertRequest),this._currentTradeContext.quoteDirection)]:[3,2];case 1:t=e.sent(),t.fromToken.contractAddress===this._currentTradeContext.fromToken.contractAddress&&t.toToken.contractAddress===this._currentTradeContext.toToken.contractAddress&&t.transaction.from===this._uniswapPairFactoryContext.ethereumAddress&&(t.expectedConvertQuote!==this._currentTradeContext.expectedConvertQuote||t.routeText!==this._currentTradeContext.routeText||t.liquidityProviderFee!==this._currentTradeContext.liquidityProviderFee||this._currentTradeContext.tradeExpires>this._uniswapRouterFactory.generateTradeDeadlineUnixTime())&&(this._currentTradeContext=this.buildCurrentTradeContext(t),this._quoteChanged$.next(t)),e.label=2;case 2:return[2]}})})},n}(),fi=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},di=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},pi=function(){function n(t){var e,i;if(this._uniswapPairContext=t,!this._uniswapPairContext.fromTokenContractAddress)throw new R("Must have a `fromTokenContractAddress` on the context",x.fromTokenContractAddressRequired);if(!an(this._uniswapPairContext.fromTokenContractAddress))throw new R("`fromTokenContractAddress` is not a valid contract address",x.fromTokenContractAddressNotValid);if(this._uniswapPairContext.fromTokenContractAddress=ge(this._uniswapPairContext.fromTokenContractAddress,!0),!this._uniswapPairContext.toTokenContractAddress)throw new R("Must have a `toTokenContractAddress` on the context",x.toTokenContractAddressRequired);if(!an(this._uniswapPairContext.toTokenContractAddress))throw new R("`toTokenContractAddress` is not a valid contract address",x.toTokenContractAddressNotValid);if(this._uniswapPairContext.toTokenContractAddress=ge(this._uniswapPairContext.toTokenContractAddress,!0),!this._uniswapPairContext.ethereumAddress)throw new R("Must have a `ethereumAddress` on the context",x.ethereumAddressRequired);if(!an(this._uniswapPairContext.ethereumAddress))throw new R("`ethereumAddress` is not a valid address",x.ethereumAddressNotValid);this._uniswapPairContext.ethereumAddress=ge(this._uniswapPairContext.ethereumAddress);var o=this._uniswapPairContext.chainId,r=this._uniswapPairContext.providerUrl;if(r&&o){this._ethersProvider=new Ke({chainId:o,providerUrl:r,customNetwork:(e=this._uniswapPairContext.settings)===null||e===void 0?void 0:e.customNetwork});return}if(o){this._ethersProvider=new Ke({chainId:o});return}var s=this._uniswapPairContext.ethereumProvider;if(s){this._ethersProvider=new Ke({ethereumProvider:s,customNetwork:(i=this._uniswapPairContext.settings)===null||i===void 0?void 0:i.customNetwork});return}throw new R("Your must supply a chainId or a ethereum provider please look at types `UniswapPairContextForEthereumProvider`, `UniswapPairContextForChainId` and `UniswapPairContextForProviderUrl` to make sure your object is correct in what your passing in",x.invalidPairContext)}return n.prototype.createFactory=function(){var t,e;return fi(this,void 0,void 0,function(){var i,o,r,s,u=this;return di(this,function(l){switch(l.label){case 0:if(((t=this._uniswapPairContext.settings)===null||t===void 0?void 0:t.customNetwork)===void 0&&(i=this._ethersProvider.network().chainId,i!==F.MAINNET&&i!==F.ROPSTEN&&i!==F.RINKEBY&&i!==F.G\u00D6RLI&&i!==F.KOVAN))throw new R("ChainId - "+i+" is not supported. This lib only supports mainnet(1), ropsten(4), kovan(42), rinkeby(4), and g\xF6rli(5)",x.chainIdNotSupported);return o=new dn(this._ethersProvider,(e=this._uniswapPairContext.settings)===null||e===void 0?void 0:e.customNetwork),[4,o.getTokens([this._uniswapPairContext.fromTokenContractAddress,this._uniswapPairContext.toTokenContractAddress])];case 1:return r=l.sent(),s={fromToken:r.find(function(a){return a.contractAddress.toLowerCase()===u._uniswapPairContext.fromTokenContractAddress.toLowerCase()}),toToken:r.find(function(a){return a.contractAddress.toLowerCase()===u._uniswapPairContext.toTokenContractAddress.toLowerCase()}),ethereumAddress:this._uniswapPairContext.ethereumAddress,settings:this._uniswapPairContext.settings||new xn,ethersProvider:this._ethersProvider},[2,new li(new vr,s)]}})})},n}(),ct=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},lt=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},hi=function(){function n(t,e){e===void 0&&(e=Be.pairAddress),this._ethersProvider=t,this._pairAddress=e,this._uniswapPairFactory=this._ethersProvider.getContract(JSON.stringify(Be.pairAbi),this._pairAddress)}return n.prototype.allPairs=function(t){return ct(this,void 0,void 0,function(){return lt(this,function(e){switch(e.label){case 0:return[4,this._uniswapPairFactory.allPairs(t)];case 1:return[2,e.sent()]}})})},n.prototype.allPairsLength=function(){return ct(this,void 0,void 0,function(){return lt(this,function(t){switch(t.label){case 0:return[4,this._uniswapPairFactory.allPairsLength()];case 1:return[2,t.sent().toHexString()]}})})},n.prototype.createPair=function(t,e){return this._uniswapPairFactory.interface.encodeFunctionData("createPair",[t,e])},n.prototype.feeTo=function(){return ct(this,void 0,void 0,function(){return lt(this,function(t){switch(t.label){case 0:return[4,this._uniswapPairFactory.feeTo()];case 1:return[2,t.sent()]}})})},n.prototype.feeToSetter=function(){return ct(this,void 0,void 0,function(){return lt(this,function(t){switch(t.label){case 0:return[4,this._uniswapPairFactory.feeToSetter()];case 1:return[2,t.sent()]}})})},n.prototype.getPair=function(t,e){return ct(this,void 0,void 0,function(){return lt(this,function(i){switch(i.label){case 0:return[4,this._uniswapPairFactory.getPair(t,e)];case 1:return[2,i.sent()]}})})},n.prototype.setFeeTo=function(t){return ct(this,void 0,void 0,function(){return lt(this,function(e){return[2,this._uniswapPairFactory.interface.encodeFunctionData("setFeeTo",[t])]})})},n.prototype.setFeeToSetter=function(t){return ct(this,void 0,void 0,function(){return lt(this,function(e){return[2,this._uniswapPairFactory.interface.encodeFunctionData("setFeeToSetter",[t])]})})},n}(),yi=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),$i=function(n){yi(t,n);function t(e,i){return i===void 0&&(i=Be.pairAddress),n.call(this,new Ke(e),i)||this}return t}(hi),mi=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ji=function(n){mi(t,n);function t(e){return n.call(this,new Ke(e))||this}return t}(rr),vi=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yi=function(n){vi(t,n);function t(e){return n.call(this,new Ke(e))||this}return t}(ir),bi=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),zi=function(n){bi(t,n);function t(e,i){return n.call(this,e,new Ke(i))||this}return t}(Tn),gi=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xi=function(n){gi(t,n);function t(e){return n.call(this,new Ke(e))||this}return t}(dn),ft=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},dt=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Ti=function(){function n(t,e){e===void 0&&(e=Be.factoryAddress),this._ethersProvider=t,this._factoryAddress=e,this._uniswapFactoryContract=this._ethersProvider.getContract(JSON.stringify(Be.factoryAbi),this._factoryAddress)}return n.prototype.allPairs=function(t){return ft(this,void 0,void 0,function(){return dt(this,function(e){switch(e.label){case 0:return[4,this._uniswapFactoryContract.allPairs(t)];case 1:return[2,e.sent()]}})})},n.prototype.allPairsLength=function(){return ft(this,void 0,void 0,function(){return dt(this,function(t){switch(t.label){case 0:return[4,this._uniswapFactoryContract.allPairsLength()];case 1:return[2,t.sent().toHexString()]}})})},n.prototype.createPair=function(t,e){return this._uniswapFactoryContract.interface.encodeFunctionData("createPair",[t,e])},n.prototype.getPair=function(t,e){return ft(this,void 0,void 0,function(){return dt(this,function(i){switch(i.label){case 0:return[4,this._uniswapFactoryContract.getPair(t,e)];case 1:return[2,i.sent()]}})})},n.prototype.feeTo=function(){return ft(this,void 0,void 0,function(){return dt(this,function(t){switch(t.label){case 0:return[4,this._uniswapFactoryContract.feeTo()];case 1:return[2,t.sent()]}})})},n.prototype.feeToSetter=function(){return ft(this,void 0,void 0,function(){return dt(this,function(t){switch(t.label){case 0:return[4,this._uniswapFactoryContract.feeToSetter()];case 1:return[2,t.sent()]}})})},n.prototype.setFeeTo=function(t){return ft(this,void 0,void 0,function(){return dt(this,function(e){return[2,this._uniswapFactoryContract.interface.encodeFunctionData("setFeeTo",[t])]})})},n.prototype.setFeeToSetter=function(t){return ft(this,void 0,void 0,function(){return dt(this,function(e){return[2,this._uniswapFactoryContract.interface.encodeFunctionData("setFeeToSetter",[t])]})})},n}(),wi=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Zi=function(n){wi(t,n);function t(e,i){return i===void 0&&(i=Be.factoryAddress),n.call(this,new Ke(e),i)||this}return t}(Ti),ki=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},_i=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Pi=function(){function n(t,e){e===void 0&&(e=Me.factoryAddress),this._ethersProvider=t,this._factoryAddress=e,this._uniswapFactoryContract=this._ethersProvider.getContract(JSON.stringify(Me.factoryAbi),this._factoryAddress)}return n.prototype.createPool=function(t,e,i){return this._uniswapFactoryContract.interface.encodeFunctionData("createPool",[t,e,i])},n.prototype.getPool=function(t,e,i){return ki(this,void 0,void 0,function(){return _i(this,function(o){switch(o.label){case 0:return[4,this._uniswapFactoryContract.getPool(t,e,i)];case 1:return[2,o.sent()]}})})},n}(),Ai=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),eo=function(n){Ai(t,n);function t(e,i){return i===void 0&&(i=Me.factoryAddress),n.call(this,new Ke(e),i)||this}return t}(Pi),wn=function(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(c){try{a(i.next(c))}catch(v){s(v)}}function l(c){try{a(i.throw(c))}catch(v){s(v)}}function a(c){c.done?r(c.value):o(c.value).then(u,l)}a((i=i.apply(n,t||[])).next())})},kn=function(n,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(c){return l([a,c])}}function l(a){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(r=a[0]&2?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[a[0]&2,r.value]),a[0]){case 0:case 1:r=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){e.label=a[1];break}if(a[0]===6&&e.label<r[1]){e.label=r[1],r=a;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(a);break}r[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(n,e)}catch(c){a=[6,c],o=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Ei=function(){function n(t,e){e===void 0&&(e=Me.quoterAddress),this._ethersProvider=t,this._quoterAddress=e,this._uniswapQuoterContract=this._ethersProvider.getContract(JSON.stringify(Me.quoterAbi),this._quoterAddress)}return n.prototype.WETH9=function(){return wn(this,void 0,void 0,function(){return kn(this,function(t){switch(t.label){case 0:return[4,this._uniswapQuoterContract.WETH9()];case 1:return[2,t.sent()]}})})},n.prototype.factory=function(){return wn(this,void 0,void 0,function(){return kn(this,function(t){switch(t.label){case 0:return[4,this._uniswapQuoterContract.factory()];case 1:return[2,t.sent()]}})})},n.prototype.quoteExactInput=function(t,e){return wn(this,void 0,void 0,function(){return kn(this,function(i){switch(i.label){case 0:return[4,this._uniswapQuoterContract.callStatic.quoteExactInput(t,e)];case 1:return[2,i.sent()]}})})},n}(),Ci=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),to=function(n){Ci(t,n);function t(e,i){return i===void 0&&(i=Me.quoterAddress),n.call(this,new Ke(e),i)||this}return t}(Ei)}}]);
