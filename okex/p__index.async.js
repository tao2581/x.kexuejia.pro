(self.webpackChunk=self.webpackChunk||[]).push([[866],{11063:function(ue,I,t){"use strict";t.r(I),t.d(I,{default:function(){return ne}});var N=t(5574),x=t.n(N),A=t(2453),$=t(99138),E=t(67926),F=t(5966),G=t(15009),f=t.n(G),J=t(99289),y=t.n(J),H=t(97857),S=t.n(H),V=t(8433),z=t(80129),L=t.n(z),M=t(54689),Q=t(74865),B=t.n(Q),se=t(88924);function R(e){return new Promise(function(r){return setTimeout(r,e)})}var X={API_ROOT:"http://80.240.31.147:8080/"},Y=X.API_ROOT,k={400:"\u53D1\u51FA\u7684\u8BF7\u6C42\u6709\u9519\u8BEF\uFF0C\u670D\u52A1\u5668\u6CA1\u6709\u8FDB\u884C\u65B0\u5EFA\u6216\u4FEE\u6539\u6570\u636E\u7684\u64CD\u4F5C\u3002",401:"\u7528\u6237\u6CA1\u6709\u6743\u9650\uFF08\u4EE4\u724C\u3001\u7528\u6237\u540D\u3001\u5BC6\u7801\u9519\u8BEF\uFF09\u3002",403:"\u7528\u6237\u5F97\u5230\u6388\u6743\uFF0C\u4F46\u662F\u8BBF\u95EE\u662F\u88AB\u7981\u6B62\u7684\u3002",404:"\u53D1\u51FA\u7684\u8BF7\u6C42\u9488\u5BF9\u7684\u662F\u4E0D\u5B58\u5728\u7684\u8BB0\u5F55\uFF0C\u670D\u52A1\u5668\u6CA1\u6709\u8FDB\u884C\u64CD\u4F5C\u3002",405:"\u8BF7\u6C42\u65B9\u6CD5\u4E0D\u88AB\u5141\u8BB8",406:"\u8BF7\u6C42\u7684\u683C\u5F0F\u4E0D\u53EF\u5F97\u3002",410:"\u8BF7\u6C42\u7684\u8D44\u6E90\u88AB\u6C38\u4E45\u5220\u9664\uFF0C\u4E14\u4E0D\u4F1A\u518D\u5F97\u5230\u7684\u3002",422:"\u5F53\u521B\u5EFA\u4E00\u4E2A\u5BF9\u8C61\u65F6\uFF0C\u53D1\u751F\u4E00\u4E2A\u9A8C\u8BC1\u9519\u8BEF\u3002",500:"\u670D\u52A1\u5668\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u670D\u52A1\u5668\u3002",502:"\u7F51\u5173\u9519\u8BEF\u3002",503:"\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u670D\u52A1\u5668\u6682\u65F6\u8FC7\u8F7D\u6216\u7EF4\u62A4\u3002",504:"\u7F51\u5173\u8D85\u65F6\u3002"},j={},q=function(){j={}},U=function(r){var s=K(r);j[s]&&delete j[s]},K=function(r){var s=r.api,a=r.method,i=r.data,l=r.params,d=i||l;return typeof d=="string"&&(d=JSON.parse(d)),"".concat(a,"=").concat(s,"&").concat(L().stringify(d))},C=V.Z.create({baseURL:Y,version:"api",headers:{"Content-Type":"application/json"}});C.interceptors.request.use(function(e){var r=e.api,s=e.body,a=e.data,i=e.query,l=e.params,d=e.version,u=e;u.data=s||a,u.params=i||l,d&&(u.api="".concat(d,"/").concat(r)),u.url=u.api;var h=K(u);return u.cancelToken=new V.Z.CancelToken(function(o){j[h]=o}),u},function(e){return Promise.reject(e)}),C.interceptors.response.use(function(e){return U(e.config),e},function(e){var r=e.response,s=e.msg;if(!r)throw q(),new Error(s);U(r.config);var a=r.status,i=r.data;if(a===401){window.location.href="/";return}else a>=400&&message.error(k[a]);throw e});function Z(e,r){B().configure({minimum:.6,showSpinner:!1}),B().start();var s=S()(S()({},r),{},{api:e});return C(s).then(function(a){B().done(),console.log("response=>",a);var i=a.data;return i.code>0&&M.Z.error({message:"Error",description:i.msg}),a.data}).catch(function(a){var i=a.msg,l=a.response;return l&&l.data?l.data:{code:1,info:i}})}function _(e){return w.apply(this,arguments)}function w(){return w=y()(f()().mark(function e(r){return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Z("check",{method:"POST",body:r}));case 1:case"end":return a.stop()}},e)})),w.apply(this,arguments)}function ee(e){return T.apply(this,arguments)}function T(){return T=y()(f()().mark(function e(r){return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Z("order",{method:"POST",body:r}));case 1:case"end":return a.stop()}},e)})),T.apply(this,arguments)}function ae(e){return D.apply(this,arguments)}function D(){return D=y()(f()().mark(function e(r){return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Z("instruments",{method:"POST",body:r}));case 1:case"end":return a.stop()}},e)})),D.apply(this,arguments)}var b=t(67294),p=t(24739),O=t(64317),re=t(86615),v=t(31199),n=t(85893);function te(e){var r=e.params,s=(0,b.useState)([]),a=x()(s,2),i=a[0],l=a[1];(0,b.useEffect)(function(){ae(r).then(function(u){console.log(u.data),l(u.data)})},[]);var d=function(){var u=y()(f()().mark(function h(o){var m,g,W,P;return f()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:m=o.retryCount,g=o.interval,W=o.countdown,console.log({retryCount:m,interval:g}),P=0;case 3:if(!(new Date().valueOf()<W-50)){c.next=8;break}return c.next=7,R(20);case 7:return c.abrupt("continue",3);case 8:if(!(++P>m-1)){c.next=11;break}return A.ZP.info("\u53D1\u9001\u5B8C\u6BD5 [".concat(P,"/").concat(m,"]")),c.abrupt("break",19);case 11:return A.ZP.info("\u6B63\u5728\u53D1\u9001\uFF1A[".concat(P,"/").concat(m,"]")),delete o.retryCount,delete o.interval,ee(S()(S()({},o),r)),c.next=17,R(g);case 17:c.next=3;break;case 19:case"end":return c.stop()}},h)}));return function(o){return u.apply(this,arguments)}}();return(0,n.jsxs)(E.A,{onFinish:d,children:[(0,n.jsxs)(p.UW,{children:[(0,n.jsx)(O.Z,{name:"inst_id",label:"\u9009\u62E9\u4EA4\u6613\u5BF9",tooltip:"\u5982 BTC-USDT",showSearch:!0,width:"md",debounceTime:300,options:i&&i.map(function(u){return u.value=u.instId,u.label=u.instId,u}),placeholder:"\u9009\u62E9\u4EA4\u6613\u5BF9",rules:[{required:!0,message:"\u9009\u62E9\u4EA4\u6613\u5BF9!"}]}),(0,n.jsx)(O.Z,{name:"td_mode",label:"\u4EA4\u6613\u6A21\u5F0F",width:"md",initialValue:"cash",placeholder:"\u4EA4\u6613\u6A21\u5F0F",rules:[{required:!0,message:"\u4EA4\u6613\u6A21\u5F0F!"}],options:[{value:"cash",label:"\u975E\u4FDD\u8BC1\u91D1"},{value:"isolated",label:"\u9010\u4ED3"},{value:"cross",label:"\u9010\u4ED3"}]})]},"group1"),(0,n.jsxs)(p.UW,{children:[(0,n.jsx)(O.Z,{name:"ord_type",label:"\u8BA2\u5355\u7C7B\u578B",width:"md",initialValue:"limit",placeholder:"\u8BA2\u5355\u7C7B\u578B",rules:[{required:!0,message:"\u8BA2\u5355\u7C7B\u578B!"}],options:[{value:"market",label:"\u5E02\u4EF7\u5355"},{value:"limit",label:"\u9650\u4EF7\u5355"}]}),(0,n.jsx)(re.Z.Group,{label:"\u8BA2\u5355\u65B9\u5411",name:"side",initialValue:"buy",options:[{label:"\u4E70",value:"buy"},{label:"\u5356",value:"sell"}]})]},"group2"),(0,n.jsxs)(p.UW,{children:[(0,n.jsx)(v.Z,{name:"sz",initialValue:1,label:"\u59D4\u6258\u6570\u91CF",width:"md",rules:[{required:!0,message:"\u59D4\u6258\u6570\u91CF!"}]}),(0,n.jsx)(v.Z,{name:"px",initialValue:1,label:"\u59D4\u6258\u4EF7\u683C",width:"md",rules:[{required:!0,message:"\u59D4\u6258\u4EF7\u683C!"}]})]},"group3"),(0,n.jsxs)(p.UW,{children:[(0,n.jsx)(v.Z,{name:"retryCount",initialValue:1,label:"\u53D1\u9001\u7B14\u6570",width:"md",rules:[{required:!0,message:"\u59D4\u6258\u6570\u91CF!"}]}),(0,n.jsx)(v.Z,{name:"interval",initialValue:1,label:"\u53D1\u9001\u95F4\u9694",width:"md",rules:[{required:!0,message:"\u53D1\u9001\u95F4\u9694!"}]})]},"group3"),(0,n.jsx)(p.UW,{children:(0,n.jsx)(v.Z,{name:"countdown",initialValue:1,label:"\u5012\u8BA1\u65F6",width:"md",rules:[{required:!0,message:"\u59D4\u6258\u6570\u91CF!"}]})},"group3")]})}function ne(){var e=(0,b.useState)(!1),r=x()(e,2),s=r[0],a=r[1],i=(0,b.useState)(function(){var o=localStorage.getItem("okexbot.loginData");return o?(a(!0),JSON.parse(o)):null}),l=x()(i,2),d=l[0],u=l[1],h=function(m){_(m).then(function(g){g.code=="0"&&(A.ZP.info("\u6821\u9A8C\u901A\u8FC7\uFF01"),a(!0),u(m),localStorage.setItem("okexbot.loginData",JSON.stringify(m)))})};return(0,n.jsx)(n.Fragment,{children:s?(0,n.jsx)(te,{params:d}):(0,n.jsxs)(E.A,{onFinish:h,children:[(0,n.jsx)($.Z,{message:"\u63D0\u793A\uFF01",description:"\u8BF7\u586B\u5199\u5FC5\u8981\u6821\u9A8C\u4FE1\u606F",type:"error"}),(0,n.jsx)(F.Z.Password,{width:"md",name:"api_key",addonAfter:(0,n.jsx)("a",{href:"https://www.okx.com/account/my-api",children:"\u70B9\u51FB\u83B7\u53D6APIKey"}),label:"APIKey",rules:[{required:!0,message:"APIKey!"}]}),(0,n.jsx)(F.Z.Password,{width:"md",name:"secret_key",label:"SecretKey",rules:[{required:!0,message:"SecretKey!"}]}),(0,n.jsx)(F.Z.Password,{width:"md",name:"passphrase",label:"Passphrase",rules:[{required:!0,message:"Passphrase!"}]})]})})}},24654:function(){}}]);
